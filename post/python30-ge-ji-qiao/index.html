<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>xiaohu</title>
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°" />
<link rel="shortcut icon" href="https://xigaohu.github.io/favicon.ico?v=1604904002135">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.remixicon.com/releases/v1.3.1/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://xigaohu.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="xiaohu - Atom Feed" href="https://xigaohu.github.io/atom.xml">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="remixicon-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://xigaohu.github.io">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://xigaohu.github.io/images/avatar.png?v=1604904002135" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">xiaohu</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            æ–‡ç« ç›®å½•
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#%E7%94%A8python3">ç”¨Python3</a></li>
<li><a href="#%E6%A3%80%E6%9F%A5%E6%89%80%E9%9C%80%E7%9A%84%E6%9C%80%E5%B0%8F%E7%89%88%E6%9C%ACpython">æ£€æŸ¥æ‰€éœ€çš„æœ€å°ç‰ˆæœ¬Python</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8ipython">ä½¿ç”¨IPython</a></li>
<li><a href="#%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BClist-comprehensions">åˆ—è¡¨æ¨å¯¼ï¼ˆList Comprehensionsï¼‰</a></li>
<li><a href="#%E6%A3%80%E6%9F%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5">æ£€æŸ¥å¯¹è±¡çš„å†…å­˜ä½¿ç”¨æƒ…å†µ</a></li>
<li><a href="#%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%80%BC">è¿”å›å¤šä¸ªå€¼</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BBdata-classes">ä½¿ç”¨æ•°æ®ç±»(data classes)</a></li>
<li><a href="#%E5%8F%98%E9%87%8F%E5%8E%9F%E5%9C%B0%E4%BA%A4%E6%8D%A2">å˜é‡åŸåœ°äº¤æ¢</a></li>
<li><a href="#%E5%90%88%E5%B9%B6%E5%AD%97%E5%85%B8python-35">åˆå¹¶å­—å…¸(Python 3.5+)</a></li>
<li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A0%87%E9%A2%98%E5%86%99%E6%B3%95">å­—ç¬¦ä¸²çš„æ ‡é¢˜å†™æ³•</a></li>
<li><a href="#%E6%8B%86%E5%88%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%88%90list">æ‹†åˆ†å­—ç¬¦ä¸²è½¬æˆlist</a></li>
<li><a href="#%E4%BB%8Estring%E5%88%97%E8%A1%A8%E5%88%9B%E5%BB%BAstring">ä»stringåˆ—è¡¨åˆ›å»ºstring</a></li>
<li><a href="#emoji">Emoji</a></li>
<li><a href="#%E5%88%97%E8%A1%A8%E5%88%87%E7%89%87">åˆ—è¡¨åˆ‡ç‰‡</a></li>
<li><a href="#%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%88%97%E8%A1%A8">åè½¬å­—ç¬¦ä¸²å’Œåˆ—è¡¨</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8map">ä½¿ç”¨map()</a></li>
<li><a href="#%E4%BB%8E%E5%88%97%E8%A1%A8%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%8E%B7%E5%8F%96%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E5%85%83%E7%B4%A0">ä»åˆ—è¡¨å’Œå­—ç¬¦ä¸²è·å–ä¸é‡å¤çš„å…ƒç´ </a></li>
<li><a href="#%E5%8F%91%E7%8E%B0%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%E6%9C%80%E5%A4%9A%E7%9A%84%E5%85%83%E7%B4%A0">å‘ç°å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ </a></li>
<li><a href="#%E5%88%9B%E5%BB%BA%E8%BF%9B%E5%BA%A6%E6%9D%A1">åˆ›å»ºè¿›åº¦æ¡</a></li>
<li><a href="#%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAweb%E6%9C%8D%E5%8A%A1%E5%99%A8">å¿«é€Ÿåˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨</a></li>
<li><a href="#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2">å¤šè¡Œå­—ç¬¦ä¸²</a></li>
<li><a href="#%E5%B8%A6%E6%9C%89%E6%9D%A1%E4%BB%B6%E7%9A%84%E4%B8%89%E5%85%83%E6%93%8D%E4%BD%9C%E7%AC%A6">å¸¦æœ‰æ¡ä»¶çš„ä¸‰å…ƒæ“ä½œç¬¦</a></li>
<li><a href="#%E7%BB%9F%E8%AE%A1%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0">ç»Ÿè®¡å‡ºç°æ¬¡æ•°</a></li>
<li><a href="#%E6%B7%BB%E5%8A%A0%E9%A2%9C%E8%89%B2">æ·»åŠ é¢œè‰²</a></li>
<li><a href="#%E6%95%B4%E9%99%A4">æ•´é™¤</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="remixicon-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about/" class="menu" style="animation-delay: 0.6000000000000001s">
          å…³äº
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></div>
    <a class="rss" href="https://xigaohu.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">python30ä¸ªæŠ€å·§</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2020-01-21 / 15 min read
        </div>
        
          <img class="post-feature-image rounded-lg mx-auto my-4" src="https://tencent-1256324020.cos.ap-shanghai.myqcloud.com/20200121113726.png" alt="">
        
        <div class="post-content yue">
          <blockquote>
<p>åŸæ–‡ https://towardsdatascience.com/30-python-best-practices-tips-and-tricks-caefb9f8c5f5</p>
</blockquote>
<p>éšç€å‡æœŸçš„è¿‡å»ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†äººå·²ç»è¿”å›åˆ°äº†å·¥ä½œä¸­ã€‚è¿™é‡Œæœ‰30ä¸ªPythonæœ€ä½³å®è·µæŠ€å·§ï¼Œè™½ç„¶éœ€è¦èŠ±ç‚¹æ—¶é—´ï¼Œä½†æˆ‘è‚¯å®šåœ¨è¿™è¿‡ç¨‹ä¸­ä»ç„¶å¯ä»¥å­¦åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚</p>
<!-- more -->
<p>éšç€å‡æœŸçš„è¿‡å»ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†äººå·²ç»è¿”å›åˆ°äº†å·¥ä½œä¸­ã€‚è¿™é‡Œæœ‰30ä¸ªPythonæœ€ä½³å®è·µæŠ€å·§ï¼Œè™½ç„¶éœ€è¦èŠ±ç‚¹æ—¶é—´ï¼Œä½†æˆ‘è‚¯å®šåœ¨è¿™è¿‡ç¨‹ä¸­ä»ç„¶å¯ä»¥å­¦åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚</p>
<h3 id="ç”¨python3">ç”¨Python3</h3>
<p>æé†’ä½ ï¼šPython2å°†åœ¨2020å¹´1æœˆ1æ—¥åï¼Œä¸å†æä¾›å®˜æ–¹æ”¯æŒï¼Œè¿™ä¸ªå‘å¯¼æœ‰äº›ä¾‹å­åªèƒ½ç”¨äºPython3ï¼Œå¦‚æœä½ ä»ç„¶åœ¨ä½¿ç”¨Python2.7ï¼Œç°åœ¨å°±å‡çº§å§ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨çš„MacOSï¼Œä½ å¯ä»¥ä½¿ç”¨Homebrewè¿›è¡Œå‡çº§</p>
<h3 id="æ£€æŸ¥æ‰€éœ€çš„æœ€å°ç‰ˆæœ¬python">æ£€æŸ¥æ‰€éœ€çš„æœ€å°ç‰ˆæœ¬Python</h3>
<p>ä½ å¯ä»¥åœ¨ä»£ç é‡Œæ£€æŸ¥Pythonçš„ç‰ˆæœ¬ï¼Œç¡®è®¤ä½ çš„ç”¨æˆ·æ²¡æœ‰ä½¿ç”¨ä¸å…¼å®¹çš„ç‰ˆæœ¬è¿è¡Œä½ çš„è„šæœ¬ï¼Œåšä¸ªç®€å•çš„æ£€æŸ¥</p>
<pre><code class="language-python">if not sys.version_info &gt; (2, 7):
   # berate your user for running a 10 year
   # python version
elif not sys.version_info &gt;= (3, 5):
   # Kindly tell your user (s)he needs to upgrade
   # because you're using 3.5 features
</code></pre>
<h3 id="ä½¿ç”¨ipython">ä½¿ç”¨IPython</h3>
<p>IPythonæ˜¯åŸºäºå¢å¼ºçš„shellï¼Œå®ƒé™¤äº†è‡ªåŠ¨è¡¥å…¨ï¼Œè¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œæˆ‘å–œæ¬¢å®ƒå†…ç½®çš„é­”æœ¯å‘½ä»¤ï¼Œä¸‹é¢æœ‰ä¸€äº›</p>
<ul>
<li><code>%cd</code> æ”¹å˜å½“å‰å·¥ä½œç›®å½•</li>
<li><code>%edit</code> æ‰“å¼€ç¼–è¾‘å™¨ï¼Œå…³é—­ç¼–è¾‘å™¨åç«‹åˆ»æ‰§è¡Œè¾“å…¥çš„ä»£ç </li>
<li><code>%env</code> å±•ç¤ºå½“å‰çš„ç¯å¢ƒå˜é‡</li>
<li><code>%pip install [pkgs]</code> ä¸éœ€è¦ç¦»å¼€shellå°±å¯ä»¥å®‰è£…åŒ…</li>
<li><code>%time</code> å’Œ <code>%timeit</code> æ˜¾ç¤ºpythonä»£ç çš„æ‰§è¡Œæ—¶é—´</li>
</ul>
<p>å¦å¤–ä¸€ä¸ªæœ‰ç”¨çš„ç‰¹æ€§æ˜¯å¼•ç”¨äº†ä¹‹å‰è¾“å‡ºçš„å‘½ä»¤ï¼Œ<strong>In</strong>å’Œ<strong>Out</strong>æ˜¯ç¡®åˆ‡çš„å¯¹è±¡ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>Out[3]</code>æ¥è¾“å‡ºç¬¬ä¸‰ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœ</p>
<p>å®‰è£…IPython <code>pip3 install ipython</code></p>
<h3 id="åˆ—è¡¨æ¨å¯¼list-comprehensions">åˆ—è¡¨æ¨å¯¼ï¼ˆList Comprehensionsï¼‰</h3>
<p>åˆ—è¡¨æ¨å¯¼èƒ½å¤Ÿä»£æ›¿ä¸‘é™‹çš„å¾ªç¯æ¥å¡«å……listï¼Œåˆ—è¡¨æ¨å¯¼çš„åŸºç¡€è¯­æ³•ä¸º</p>
<pre><code class="language-python">[ expression for item in list if conditional ]
</code></pre>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œç»™åˆ—è¡¨é¡ºåºå¡«å……æ•°å­—</p>
<pre><code class="language-python">mylist = [i for i in range(10)]
print(mylist)
# [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>
<p>å› ä¸ºä½ å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥åšä¸€äº›æ•°å­¦è¿ç®—</p>
<pre><code class="language-python">squares = [x**2 for x in range(10)]
print(squares)
# [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
</code></pre>
<p>ç”šè‡³å¯ä»¥è°ƒç”¨é¢å¤–çš„å‡½æ•°</p>
<pre><code class="language-python">def some_function(a):
    return (a + 5) / 2
    
my_formula = [some_function(i) for i in range(10)]
print(my_formula)
# [2, 3, 3, 4, 4, 5, 5, 6, 6, 7]
</code></pre>
<p>æœ€åï¼Œä½ å¯ä»¥ä½¿ç”¨<code>if</code>è¿‡æ»¤åˆ—è¡¨ï¼Œåœ¨ä¸‹é¢ä¾‹å­é‡Œæˆ‘ä»¬ä¿ç•™èƒ½è¢«2æ•´é™¤çš„æ•°å­—</p>
<pre><code class="language-python">filtered = [i for i in range(20) if i%2==0]
print(filtered)
# [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
</code></pre>
<h3 id="æ£€æŸ¥å¯¹è±¡çš„å†…å­˜ä½¿ç”¨æƒ…å†µ">æ£€æŸ¥å¯¹è±¡çš„å†…å­˜ä½¿ç”¨æƒ…å†µ</h3>
<p>ä½¿ç”¨<code>sys.getsizeof()</code>ä½ å¯ä»¥æ£€æŸ¥æŸä¸ªå¯¹è±¡çš„å†…å­˜ä½¿ç”¨æƒ…å†µ</p>
<pre><code class="language-python">import sys

mylist = range(0, 10000)
print(sys.getsizeof(mylist))
# 48
</code></pre>
<p>ç­‰ç­‰..ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§çš„åˆ—è¡¨åªç”¨äº†48ä¸ªå­—èŠ‚</p>
<p>è¿™æ˜¯å› ä¸ºrangeå‡½æ•°åªæ˜¯è¿”å›ä¸€ä¸ªè¡¨ç°åƒlistçš„ç±»ï¼Œrangeæ¯”ç¡®åˆ‡çš„æ•°å­—åˆ—è¡¨æœ‰æ›´å¥½çš„å†…å­˜æ•ˆç‡</p>
<p>ä½ å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æ¥åˆ›å»ºä¸€ä¸ªå®é™…çš„æ•°å­—listæ¥æŸ¥çœ‹</p>
<pre><code class="language-python">import sys

myreallist = [x for x in range(0, 10000)]
print(sys.getsizeof(myreallist))
# 87632
</code></pre>
<h3 id="è¿”å›å¤šä¸ªå€¼">è¿”å›å¤šä¸ªå€¼</h3>
<p>åœ¨Pythonçš„å‡½æ•°é‡Œï¼Œä¸éœ€è¦å€ŸåŠ©å­—å…¸ã€listæˆ–è€…classå°±å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼Œä¾‹å¦‚</p>
<pre><code class="language-python">def get_user(id):
    # fetch user from database
    # ....
    return name, birthdate

name, birthdate = get_user(4)
</code></pre>
<p>è¿”å›å¤šå°‘å€¼éƒ½æ²¡æœ‰å…³ç³»ï¼Œä½†æ˜¯è¶…è¿‡3ä¸ªå€¼éƒ½åº”è¯¥æ”¾åˆ°æ•°æ®ç±»å‹é‡Œé¢</p>
<h3 id="ä½¿ç”¨æ•°æ®ç±»data-classes">ä½¿ç”¨æ•°æ®ç±»(data classes)</h3>
<p>Pythonåœ¨3.7åæä¾›äº†æ•°æ®ç±»ï¼Œå®ƒç›¸æ¯”äºæ™®é€šç±»æœ‰ä¸€äº›ä¼˜ç‚¹ï¼Œæ¯”å¦‚è¿”å›å¤šä¸ªå€¼æˆ–è€…å­—å…¸</p>
<ul>
<li>æ•°æ®ç±»ä»£ç é‡å°‘</li>
<li>æ•°æ®ç±»å¯ä»¥æ¯”è¾ƒï¼Œå› ä¸ºç»§æ‰¿äº†<code>__eq__</code>æ–¹æ³•</li>
<li>åœ¨è°ƒè¯•ä¸­å¯ä»¥å¾ˆç®€å•çš„æ‰“å°å‡ºä¸€ä¸ªæ•°æ®ç±»ï¼Œå› ä¸º<code>__repr__</code>ä¹Ÿè¢«ç»§æ‰¿äº†</li>
<li>æ•°æ®ç±»æœ‰è¾“å…¥æç¤ºï¼Œå‡å°‘å‡ºé”™çš„æœºç‡</li>
</ul>
<p>æ•°æ®ç±»çš„ä¾‹å­</p>
<pre><code class="language-python">from dataclasses import dataclass

@dataclass
class Card:
    rank: str
    suit: str
    
card = Card(&quot;Q&quot;, &quot;hearts&quot;)

print(card == card)
# True

print(card.rank)
# 'Q'

print(card)
Card(rank='Q', suit='hearts')
</code></pre>
<h3 id="å˜é‡åŸåœ°äº¤æ¢">å˜é‡åŸåœ°äº¤æ¢</h3>
<p>ä¸€ä¸ªå°æŠ€å·§ï¼Œå¯ä»¥å‡å°‘ä»£ç è¡Œæ•°</p>
<pre><code class="language-python">a = 1
b = 2
a, b = b, a
print (a)
# 2
print (b)
# 1
</code></pre>
<h3 id="åˆå¹¶å­—å…¸python-35">åˆå¹¶å­—å…¸(Python 3.5+)</h3>
<p>Python3.5åï¼Œåˆå¹¶å­—å…¸å˜å¾—æ›´ç®€å•äº†</p>
<pre><code class="language-python">dict1 = { 'a': 1, 'b': 2 }
dict2 = { 'b': 3, 'c': 4 }
merged = { **dict1, **dict2 }
print (merged)
# {'a': 1, 'b': 3, 'c': 4}
</code></pre>
<p>å¦‚æœæœ‰é‡å¤çš„keysï¼Œç¬¬ä¸€ä¸ªå­—å…¸çš„keyå€¼å°†ä¼šè¢«é‡å†™</p>
<h3 id="å­—ç¬¦ä¸²çš„æ ‡é¢˜å†™æ³•">å­—ç¬¦ä¸²çš„æ ‡é¢˜å†™æ³•</h3>
<p>è¿™æ˜¯è¯­æ³•ç³–çš„ä¸€ä¸ª</p>
<pre><code class="language-python">mystring = &quot;10 awesome python tricks&quot;
print(mystring.title())
'10 Awesome Python Tricks'
</code></pre>
<h3 id="æ‹†åˆ†å­—ç¬¦ä¸²è½¬æˆlist">æ‹†åˆ†å­—ç¬¦ä¸²è½¬æˆlist</h3>
<p>ä½ å¯ä»¥æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œç„¶åè½¬æˆstringåˆ—è¡¨ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç©ºæ ¼æ‹†åˆ†</p>
<pre><code class="language-python">mystring = &quot;The quick brown fox&quot;
mylist = mystring.split(' ')
print(mylist)
# ['The', 'quick', 'brown', 'fox']
</code></pre>
<h3 id="ä»stringåˆ—è¡¨åˆ›å»ºstring">ä»stringåˆ—è¡¨åˆ›å»ºstring</h3>
<p>å’Œå‰é¢çš„æŠ€å·§ç›¸åï¼Œstringåˆ—è¡¨ä¸­æ¯ä¸¤ä¸ªstringä¹‹é—´æ”¾ç©ºæ ¼ï¼Œæœ€ç»ˆè½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</p>
<pre><code class="language-python">mylist = ['The', 'quick', 'brown', 'fox']
mystring = &quot; &quot;.join(mylist)
print(mystring)
# 'The quick brown fox'
</code></pre>
<p>å¦‚æœä½ åœ¨æƒ³ä¸ºä»€ä¹ˆä¸æ˜¯<code>mylist.join(&quot; &quot;)</code>ï¼Œå¥½é—®é¢˜ï¼</p>
<p>è¿™æ˜¯å› ä¸º<code>String.join()</code>æ–¹æ³•ä¸ä»…å¯ä»¥ä½¿ç”¨åœ¨listä¸Šé¢ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•å¯è¿­ä»£å¯¹è±¡ä¸Šé¢ã€‚æ”¾åœ¨Stringçš„å‡½æ•°é‡Œé¢å¯ä»¥é€‚ç”¨äºå¤šä¸ªåœ°æ–¹ã€‚</p>
<h3 id="emoji">Emoji</h3>
<p>è¿™ä¸€ä¸ªè¦ä¹ˆä»¤äººå°è±¡æ·±åˆ»ï¼Œè¦ä¹ˆè®©äººæ’æ–¥ï¼Œå–å†³äºä½ æ€ä¹ˆçœ‹å¾…çš„ã€‚ä¸€ä¸ªé‡è¦çš„äº‹å®æ˜¯å®ƒå¯ä»¥åœ¨ç¤¾äº¤åª’ä½“åˆ†æä¸Šç”¨åˆ°ã€‚</p>
<p>å®‰è£…emojiæ¨¡å—</p>
<pre><code class="language-python">pip install emoji
</code></pre>
<p>å®‰è£…åï¼Œä½ å¯ä»¥ä¸‹é¢çš„ç”¨æ³•</p>
<pre><code class="language-python">import emoji
result = emoji.emojize('Python is :thumbs_up:')
print(result)
# 'Python is ğŸ‘'

# You can also reverse this:
result = emoji.demojize('Python is ğŸ‘')
print(result)
# 'Python is :thumbs_up:'
</code></pre>
<h3 id="åˆ—è¡¨åˆ‡ç‰‡">åˆ—è¡¨åˆ‡ç‰‡</h3>
<p>åˆ—è¡¨åˆ‡ç‰‡çš„åŸºç¡€è¯­æ³•ä¸º</p>
<pre><code class="language-python">a[start:stop:step]
</code></pre>
<p><code>start</code>,<code>stop</code>å’Œ<code>step</code>éƒ½æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä½ ä¸å¡«ï¼Œé»˜è®¤ä¸º</p>
<ul>
<li>starté»˜è®¤ä¸º0</li>
<li>endé»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®</li>
<li>stepé»˜è®¤ä¸º1</li>
</ul>
<p>ä¾‹å­</p>
<pre><code class="language-python"># We can easily create a new list from 
# the first two elements of a list:
first_two = [1, 2, 3, 4, 5][0:2]
print(first_two)
# [1, 2]

# And if we use a step value of 2, 
# we can skip over every second number
# like this:
steps = [1, 2, 3, 4, 5][0:5:2]
print(steps)
# [1, 3, 5]

# This works on strings too. In Python,
# you can treat a string like a list of
# letters:
mystring = &quot;abcdefdn nimt&quot;[::2]
print(mystring)
# 'aced it'
</code></pre>
<h3 id="åè½¬å­—ç¬¦ä¸²å’Œåˆ—è¡¨">åè½¬å­—ç¬¦ä¸²å’Œåˆ—è¡¨</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨ä¸Šé¢è¯´åˆ°çš„åˆ‡ç‰‡æ¥åè½¬å­—ç¬¦ä¸²æˆ–è€…listï¼Œé€šè¿‡è®¾ç½®stepæˆè´Ÿæ•°å€¼-1ï¼Œå…ƒç´ å°±å¯ä»¥è¢«åè½¬</p>
<pre><code class="language-python">revstring = &quot;abcdefg&quot;[::-1]
print(revstring)
# 'gfedcba'

revarray = [1, 2, 3, 4, 5][::-1]
print(revarray)
# [5, 4, 3, 2, 1]
</code></pre>
<p>###æ˜¾ç¤ºå›¾ç‰‡</p>
<p>æˆ‘ç»ˆäºå‘ç°ä¸€ä¸ªå€Ÿå£å¯ä»¥åœ¨æˆ‘çš„æ–‡ç« é‡Œé¢åŠ å…¥çŒ«ï¼Œä½ å¯èƒ½ä¼šç”¨å®ƒæ˜¾ç¤ºå›¾å½¢æˆ–è€…å…¶ä»–çš„ï¼Œé¦–å…ˆï¼Œå®‰è£…Pillowï¼Œè¿™æ˜¯Python Image Libraryçš„ä¸€ä¸ªfork</p>
<pre><code class="language-python">pip3 install Pillow
</code></pre>
<p>ç°åœ¨å¯ä»¥ä¸‹è½½ä¸€ä¸ªå«åškittens.jpgçš„å›¾ç‰‡</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç å»æ˜¾ç¤ºå›¾ç‰‡</p>
<pre><code class="language-python">from PIL import Image

im = Image.open(&quot;kittens.jpg&quot;)
im.show()
print(im.format, im.size, im.mode)
# JPEG (1920, 1357) RGB
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨IPythonä¸­ä½¿ç”¨</p>
<p>Pillowä¸ä»…å¯ä»¥æ˜¾ç¤ºå›¾ç‰‡ï¼Œè¿˜å¯ä»¥åˆ†æï¼Œè½¬æ¢å¤§å°ï¼Œè¿‡æ»¤ï¼Œå¢å¼ºï¼Œå˜å½¢ç­‰ç­‰ã€‚</p>
<h3 id="ä½¿ç”¨map">ä½¿ç”¨map()</h3>
<p><code>map()</code>æ˜¯Pythonçš„å†…å»ºå‡½æ•°ï¼Œ<code>map()</code>çš„è¯­æ³•ä¸º</p>
<pre><code class="language-python">map(function, something_iterable)
</code></pre>
<p>æ‰€ä»¥ä½ å¯ä»¥ç»™å®ƒä¸€ä¸ªå‡½æ•°æˆ–è€…å…¶ä»–çš„å»æ‰§è¡Œï¼Œå®ƒèƒ½å¤Ÿå¤„ç†ä»»ä½•çš„å¯è¿­ä»£å¯¹è±¡ã€‚ä¸‹é¢çš„ä¾‹å­é‡Œæˆ‘ç”¨çš„list</p>
<pre><code class="language-python">def upper(s):
    return s.upper()
    
mylist = list(map(upper, ['sentence', 'fragment']))
print(mylist)
# ['SENTENCE', 'FRAGMENT']

# Convert a string representation of
# a number into a list of ints.
list_of_ints = list(map(int, &quot;1234567&quot;)))
print(list_of_ints)
# [1, 2, 3, 4, 5, 6, 7]
</code></pre>
<p>æŸ¥çœ‹ä½ çš„ä»£ç ï¼Œçœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆåœ°æ–¹å¯ä»¥ç”¨<code>map()</code>æ¥æ›¿æ¢å¾ªç¯</p>
<h3 id="ä»åˆ—è¡¨å’Œå­—ç¬¦ä¸²è·å–ä¸é‡å¤çš„å…ƒç´ ">ä»åˆ—è¡¨å’Œå­—ç¬¦ä¸²è·å–ä¸é‡å¤çš„å…ƒç´ </h3>
<p>é€šè¿‡ç”¨<code>set()</code>åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œä½ èƒ½ä»åˆ—è¡¨æˆ–ç±»åˆ—è¡¨å¯¹è±¡é‡Œé¢å¾—åˆ°æ‰€æœ‰çš„ä¸é‡å¤å…ƒç´ </p>
<pre><code class="language-python">mylist = [1, 1, 2, 3, 4, 5, 5, 5, 6, 6]
print (set(mylist))
# {1, 2, 3, 4, 5, 6}

# And since a string can be treated like a 
# list of letters, you can also get the 
# unique letters from a string this way:
print (set(&quot;aaabbbcccdddeeefff&quot;))
# {'a', 'b', 'c', 'd', 'e', 'f'}
</code></pre>
<h3 id="å‘ç°å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ ">å‘ç°å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ </h3>
<p>ä»åˆ—è¡¨å’Œå­—ç¬¦ä¸²å‘ç°å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ </p>
<pre><code class="language-python">test = [1, 2, 3, 4, 2, 2, 3, 1, 4, 4, 4]
print(max(set(test), key = test.count))
</code></pre>
<p>ä½ ç†è§£è¿™æ˜¯æ€ä¹ˆå·¥ä½œçš„å—ï¼Ÿåœ¨ç»§ç»­é˜…è¯»å‰å°è¯•è‡ªå·±ç†è§£ä¸€ä¸‹</p>
<ul>
<li><code>max()</code>å°†ä¼šè¿”å›listé‡Œé¢æœ€å¤§çš„å€¼ï¼Œ<code>key</code>å‚æ•°ç”¨æ¥ä¼ å…¥ä¸€ä¸ªç®€å•çš„æ’åºå‡½æ•°ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæ˜¯<code>test.count</code>ï¼Œè¿™ä¸ªå‡½æ•°ä½œç”¨äºå¯è¿­ä»£å¯¹è±¡é‡Œé¢çš„æ¯ä¸€æ¡ç›®ã€‚</li>
<li><code>test.count</code>æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„å†…ç½®å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œç„¶åç»Ÿè®¡è¿™ä¸ªå‚æ•°çš„å‡ºç°æ¬¡æ•°ï¼Œæ‰€ä»¥<code>test.count(1)</code>å°†ä¼šè¿”å›2ï¼Œ<code>test.count</code>å°†ä¼šè¿”å›4</li>
<li>set(test)è¿”å›testä¸­çš„æ‰€æœ‰ä¸é‡å¤å€¼ï¼Œæ˜¯{1,2,3,4}</li>
</ul>
<p>æ‰€ä»¥åœ¨è¿™ä¸€è¡Œä»£ç é‡Œé¢ï¼Œæˆ‘ä»¬è·å–testçš„æ‰€æœ‰ä¸é‡å¤çš„å€¼{1,2,3,4}ï¼Œç„¶åmaxè°ƒç”¨<code>list.count</code>å‡½æ•°ï¼Œè¿”å›æœ€å¤§çš„å€¼</p>
<h3 id="åˆ›å»ºè¿›åº¦æ¡">åˆ›å»ºè¿›åº¦æ¡</h3>
<p>ä½ å¯ä»¥è‡ªå·±åˆ›å»ºè¿›åº¦æ¡ï¼Œè¿™ä¹Ÿå¾ˆæœ‰è¶£ï¼Œä½†æ˜¯å¦‚æœä½ ç”¨_progress_åŒ…çš„è¯ä¼šæ›´å¿«</p>
<p><code>pip3 install progress</code></p>
<p>ç°åœ¨ä½ å¯ä»¥è½»æ˜“çš„åˆ›å»ºè¿›åº¦æ¡</p>
<pre><code class="language-python">from progress.bar import Bar

bar = Bar('Processing', max=20)
for i in range(20):
    # Do some work
    bar.next()
bar.finish()
</code></pre>
<p>ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†æ‰€æœ‰å¯ç”¨çš„è¿›åº¦æ¡ç±»å‹</p>
<figure data-type="image" tabindex="1"><img src="https://tencent-1256324020.cos.ap-shanghai.myqcloud.com/20200119175403.png" alt="" loading="lazy"></figure>
<p>###åœ¨äº¤äº’ç•Œé¢ä½¿ç”¨ä¸‹åˆ’çº¿</p>
<p>ä½ å¯ä»¥ç”¨ä¸‹åˆ’çº¿è·å¾—æœ€è¿‘ä¸€æ¬¡çš„æ‰§è¡Œç»“æœï¼Œä¾‹å¦‚åœ¨IPythonä¸­ï¼š</p>
<pre><code>In [1]: 3 * 3
Out[1]: 9
In [2]: _ + 3
Out[2]: 12
</code></pre>
<p>åœ¨Pythonå‘½ä»¤è¡Œé‡Œé¢ä¹Ÿå¯ä»¥ç”¨ï¼Œå¦å¤–ï¼ŒIPythonå‘½ä»¤è¡Œå…è®¸ä½ ä½¿ç”¨<code>Out[n]</code>å»è·å–<code>In[n]</code>çš„æ‰§è¡Œç»“æœï¼Œä¾‹å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œ<code>Out[1]</code>å°†ä¼šè·å–åˆ°9</p>
<h3 id="å¿«é€Ÿåˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨">å¿«é€Ÿåˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨</h3>
<p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œæä¾›å½“å‰ç›®å½•çš„å†…å®¹</p>
<pre><code>python3 -m http.server
</code></pre>
<p>å¦‚æœä½ æƒ³å’ŒåŒäº‹åˆ†äº«ä¸œè¥¿æˆ–è€…æµ‹è¯•ç®€å•çš„Htmlç«™ç‚¹çš„æ—¶å€™ï¼Œè¿™æ˜¯éå¸¸æœ‰ç”¨çš„</p>
<h3 id="å¤šè¡Œå­—ç¬¦ä¸²">å¤šè¡Œå­—ç¬¦ä¸²</h3>
<p>è™½ç„¶åœ¨ä»£ç é‡Œä½ å¯ä»¥ç”¨ä¸‰ä¸ªå¼•å·å°†å¤šè¡Œçš„å­—ç¬¦ä¸²åŒ…èµ·æ¥ï¼Œä½†æ˜¯è¿™å¹¶ä¸ç†æƒ³ï¼Œä½ æ”¾åœ¨å¤šè¡Œå­—ç¬¦ä¸²çš„æ‰€æœ‰å†…å®¹åŒ…æ‹¬æ ¼å¼åŒ–ä¹Ÿä¼šå˜æˆå­—ç¬¦ä¸²ã€‚</p>
<p>æˆ‘æ›´æ¨èç¬¬äºŒç§æ–¹å¼ï¼Œè¿™å¯ä»¥è¿æ¥å¤šè¡Œå­—ç¬¦ä¸²ï¼Œä¹Ÿå…è®¸ä½ è¿›è¡Œæ ¼å¼åŒ–ã€‚å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ä½ éœ€è¦æ˜¾å¼çš„æ·»åŠ æ¢è¡Œç¬¦</p>
<pre><code class="language-python">
s1 = &quot;&quot;&quot;Multi line strings can be put
        between triple quotes. It's not ideal
        when formatting your code though&quot;&quot;&quot;

print (s1)
# Multi line strings can be put
#         between triple quotes. It's not ideal
#         when formatting your code though
        
s2 = (&quot;You can also concatenate multiple\n&quot; +
        &quot;strings this way, but you'll have to\n&quot;
        &quot;explicitly put in the newlines&quot;)

print(s2)
# You can also concatenate multiple
# strings this way, but you'll have to
# explicitly put in the newlines
</code></pre>
<h3 id="å¸¦æœ‰æ¡ä»¶çš„ä¸‰å…ƒæ“ä½œç¬¦">å¸¦æœ‰æ¡ä»¶çš„ä¸‰å…ƒæ“ä½œç¬¦</h3>
<p>è¿™æ˜¯å¦ä¸€ç§ä½¿ä½ çš„ä»£ç æ›´ç®€æ´çš„åŒæ—¶ä¿æŒå¯è¯»æ€§çš„æ–¹æ³•</p>
<pre><code class="language-python">[on_true] if [expression] else [on_false]
</code></pre>
<pre><code class="language-python">x = &quot;Success!&quot; if (y == 2) else &quot;Failed!&quot;
</code></pre>
<h3 id="ç»Ÿè®¡å‡ºç°æ¬¡æ•°">ç»Ÿè®¡å‡ºç°æ¬¡æ•°</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨<code>collections</code>åº“é‡Œé¢çš„<code>Counter</code>å»ç»Ÿè®¡ä¸€ä¸ªåˆ—è¡¨é‡Œé¢çš„å…ƒç´ å‡ºç°æ¬¡æ•°ï¼Œè¿™å°†è¿”å›ä¸€ä¸ªå­—å…¸</p>
<pre><code class="language-python">from collections import Counter

mylist = [1, 1, 2, 3, 4, 5, 5, 5, 6, 6]
c = Counter(mylist)
print(c)
# Counter({1: 2, 2: 1, 3: 1, 4: 1, 5: 3, 6: 2})

# And it works on strings too:
print(Counter(&quot;aaaaabbbbbccccc&quot;))
# Counter({'a': 5, 'b': 5, 'c': 5})
</code></pre>
<p>###æ¯”è¾ƒé“¾</p>
<p>ä½ å¯ä»¥ä½¿ç”¨æ¯”è¾ƒé“¾æ¥åˆ›å»ºæ›´ç®€æ´å¯è¯»çš„ä»£ç </p>
<pre><code class="language-python">
x = 10

# Instead of:
if x &gt; 5 and x &lt; 15:
    print(&quot;Yes&quot;)
# yes

# You can also write:
if 5 &lt; x &lt; 15:
    print(&quot;Yes&quot;)
# Yes
</code></pre>
<h3 id="æ·»åŠ é¢œè‰²">æ·»åŠ é¢œè‰²</h3>
<p>ä½¿ç”¨Coloramaï¼Œä½ å¯ä»¥åœ¨terminalé‡Œé¢æ·»åŠ é¢œè‰²</p>
<pre><code class="language-python">from colorama import Fore, Back, Style

print(Fore.RED + 'some red text')
print(Back.GREEN + 'and with a green background')
print(Style.DIM + 'and in dim text')
print(Style.RESET_ALL)
print('back to normal now')
</code></pre>
<p>###å¤„ç†æ—¥æœŸ</p>
<p>python-dateutilæ¨¡å—æä¾›ç¬”æ ‡å‡†åº“æ›´åŠ å¼ºå¤§çš„æ—¥æœŸå¤„ç†ï¼Œå®‰è£…ï¼š</p>
<pre><code class="language-shell">pip3 install python-dateutil 
</code></pre>
<p>ä½ å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œæˆ‘å°†ä¸‹é¢çš„ä¾‹å­é™å®šä¸ºæˆ‘å‘ç°ç‰¹åˆ«æœ‰ç”¨çš„ï¼šlogæ–‡ä»¶çš„æ¨¡ç³Šæ—¥æœŸè§£æ</p>
<pre><code class="language-python">from dateutil.parser import parse

logline = 'INFO 2020-01-01T00:00:01 Happy new year, human.'
timestamp = parse(log_line, fuzzy=True)
print(timestamp)
# 2020-01-01 00:00:01
</code></pre>
<p>è®°å¾—ï¼šå¦‚æœPythonçš„datetimeä¸è¡Œçš„æ—¶å€™ï¼Œå°±ç”¨python-dateutil</p>
<h3 id="æ•´é™¤">æ•´é™¤</h3>
<p>åœ¨Python2é‡Œé¢ï¼Œé™¤æ³•æ“ä½œç¬¦<code>/</code>é»˜è®¤å°±æ˜¯æ•´é™¤ï¼Œé™¤éæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯æµ®ç‚¹å‹ï¼Œå¦‚ä¸‹</p>
<pre><code class="language-python"># Python 2
5 / 2 = 2
5 / 2.0 = 2.5
</code></pre>
<p>åœ¨Python3é‡Œé¢ï¼Œé™¤æ³•æ“ä½œç¬¦é»˜è®¤å°±æ˜¯æµ®ç‚¹é™¤æ³•ï¼Œ<code>//</code>æ“ä½œç¬¦å˜æˆäº†æ•´é™¤ï¼Œå¦‚ä¸‹</p>
<pre><code class="language-python">Python 3
5 / 2 = 2.5
5 // 2 = 2
</code></pre>
<p>æƒ³äº†è§£è¿™ä¸€å˜åŒ–çš„æ¥é¾™å»è„‰ï¼Œä½ å¯ä»¥è¯»<a href="https://www.python.org/dev/peps/pep-0238/">PEP-0238</a></p>
<p>###ç”¨chardetåšç¼–ç æ£€æµ‹</p>
<p>ä½ å¯ä»¥ä½¿ç”¨chardetæ¨¡å—æ£€æµ‹ä¸€ä¸ªæ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ†ææœªçŸ¥æ–‡æœ¬çš„æœ‰ç”¨æ–¹æ³•ï¼Œå®‰è£…æ–¹å¼ï¼š</p>
<pre><code>pip install chardet
</code></pre>
<p>ä½ ç°åœ¨æœ‰äº†ä¸€ä¸ªé¢å¤–çš„å‘½ä»¤è¡Œå·¥å…·<code>chardet</code>ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p>
<pre><code class="language-shell">chardetect somefile.txt
somefile.txt: ascii with confidence 1.0
</code></pre>
<p>ä½ å¯ä»¥åœ¨ç¼–ç¨‹é‡Œä½¿ç”¨ï¼Œ<a href="https://chardet.readthedocs.io/en/latest/usage.html">æŸ¥çœ‹æ–‡æ¡£</a></p>
<p>è¿™å°±æ˜¯æ–°å¹´å¼€å§‹çš„Python30ä¸ªæŠ€å·§ï¼Œæˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·çš„å–œæ¬¢å®ƒï¼Œå¦‚æœä½ æœ‰æƒ³æ·»åŠ çš„ï¼Œæ¬¢è¿ç•™è¨€ã€‚</p>

        </div>

        


        <div class="flex justify-between py-8">
          

          
            <div class="next-post">
              <a href="https://xigaohu.github.io/post/about">
                <h3 class="post-title">
                  å…³äº
                  <i class="remixicon-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        

      </div>
    </div>

    <script src="https://xigaohu.github.io/media/prism.js"></script>  
<script>

Prism.highlightAll()

let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
