<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://stoneskipping.info</id>
    <title>xiaohu</title>
    <updated>2020-01-21T03:39:53.548Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="http://stoneskipping.info"/>
    <link rel="self" href="http://stoneskipping.info/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>http://stoneskipping.info/images/avatar.png</logo>
    <icon>http://stoneskipping.info/favicon.ico</icon>
    <rights>All rights reserved 2020, xiaohu</rights>
    <entry>
        <title type="html"><![CDATA[python30ä¸ªæŠ€å·§]]></title>
        <id>http://stoneskipping.info/post/python30-ge-ji-qiao</id>
        <link href="http://stoneskipping.info/post/python30-ge-ji-qiao">
        </link>
        <updated>2020-01-21T02:56:29.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>åŸæ–‡ https://towardsdatascience.com/30-python-best-practices-tips-and-tricks-caefb9f8c5f5</p>
</blockquote>
<p>éšç€å‡æœŸçš„è¿‡å»ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†äººå·²ç»è¿”å›åˆ°äº†å·¥ä½œä¸­ã€‚è¿™é‡Œæœ‰30ä¸ªPythonæœ€ä½³å®è·µæŠ€å·§ï¼Œè™½ç„¶éœ€è¦èŠ±ç‚¹æ—¶é—´ï¼Œä½†æˆ‘è‚¯å®šåœ¨è¿™è¿‡ç¨‹ä¸­ä»ç„¶å¯ä»¥å­¦åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>åŸæ–‡ https://towardsdatascience.com/30-python-best-practices-tips-and-tricks-caefb9f8c5f5</p>
</blockquote>
<p>éšç€å‡æœŸçš„è¿‡å»ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†äººå·²ç»è¿”å›åˆ°äº†å·¥ä½œä¸­ã€‚è¿™é‡Œæœ‰30ä¸ªPythonæœ€ä½³å®è·µæŠ€å·§ï¼Œè™½ç„¶éœ€è¦èŠ±ç‚¹æ—¶é—´ï¼Œä½†æˆ‘è‚¯å®šåœ¨è¿™è¿‡ç¨‹ä¸­ä»ç„¶å¯ä»¥å­¦åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚</p>
<!-- more -->
<p>éšç€å‡æœŸçš„è¿‡å»ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†äººå·²ç»è¿”å›åˆ°äº†å·¥ä½œä¸­ã€‚è¿™é‡Œæœ‰30ä¸ªPythonæœ€ä½³å®è·µæŠ€å·§ï¼Œè™½ç„¶éœ€è¦èŠ±ç‚¹æ—¶é—´ï¼Œä½†æˆ‘è‚¯å®šåœ¨è¿™è¿‡ç¨‹ä¸­ä»ç„¶å¯ä»¥å­¦åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚</p>
<h3 id="ç”¨python3">ç”¨Python3</h3>
<p>æé†’ä½ ï¼šPython2å°†åœ¨2020å¹´1æœˆ1æ—¥åï¼Œä¸å†æä¾›å®˜æ–¹æ”¯æŒï¼Œè¿™ä¸ªå‘å¯¼æœ‰äº›ä¾‹å­åªèƒ½ç”¨äºPython3ï¼Œå¦‚æœä½ ä»ç„¶åœ¨ä½¿ç”¨Python2.7ï¼Œç°åœ¨å°±å‡çº§å§ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨çš„MacOSï¼Œä½ å¯ä»¥ä½¿ç”¨Homebrewè¿›è¡Œå‡çº§</p>
<h3 id="æ£€æŸ¥æ‰€éœ€çš„æœ€å°ç‰ˆæœ¬python">æ£€æŸ¥æ‰€éœ€çš„æœ€å°ç‰ˆæœ¬Python</h3>
<p>ä½ å¯ä»¥åœ¨ä»£ç é‡Œæ£€æŸ¥Pythonçš„ç‰ˆæœ¬ï¼Œç¡®è®¤ä½ çš„ç”¨æˆ·æ²¡æœ‰ä½¿ç”¨ä¸å…¼å®¹çš„ç‰ˆæœ¬è¿è¡Œä½ çš„è„šæœ¬ï¼Œåšä¸ªç®€å•çš„æ£€æŸ¥</p>
<pre><code class="language-python">if not sys.version_info &gt; (2, 7):
   # berate your user for running a 10 year
   # python version
elif not sys.version_info &gt;= (3, 5):
   # Kindly tell your user (s)he needs to upgrade
   # because you're using 3.5 features
</code></pre>
<h3 id="ä½¿ç”¨ipython">ä½¿ç”¨IPython</h3>
<p>IPythonæ˜¯åŸºäºå¢å¼ºçš„shellï¼Œå®ƒé™¤äº†è‡ªåŠ¨è¡¥å…¨ï¼Œè¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œæˆ‘å–œæ¬¢å®ƒå†…ç½®çš„é­”æœ¯å‘½ä»¤ï¼Œä¸‹é¢æœ‰ä¸€äº›</p>
<ul>
<li><code>%cd</code> æ”¹å˜å½“å‰å·¥ä½œç›®å½•</li>
<li><code>%edit</code> æ‰“å¼€ç¼–è¾‘å™¨ï¼Œå…³é—­ç¼–è¾‘å™¨åç«‹åˆ»æ‰§è¡Œè¾“å…¥çš„ä»£ç </li>
<li><code>%env</code> å±•ç¤ºå½“å‰çš„ç¯å¢ƒå˜é‡</li>
<li><code>%pip install [pkgs]</code> ä¸éœ€è¦ç¦»å¼€shellå°±å¯ä»¥å®‰è£…åŒ…</li>
<li><code>%time</code> å’Œ <code>%timeit</code> æ˜¾ç¤ºpythonä»£ç çš„æ‰§è¡Œæ—¶é—´</li>
</ul>
<p>å¦å¤–ä¸€ä¸ªæœ‰ç”¨çš„ç‰¹æ€§æ˜¯å¼•ç”¨äº†ä¹‹å‰è¾“å‡ºçš„å‘½ä»¤ï¼Œ<strong>In</strong>å’Œ<strong>Out</strong>æ˜¯ç¡®åˆ‡çš„å¯¹è±¡ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>Out[3]</code>æ¥è¾“å‡ºç¬¬ä¸‰ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœ</p>
<p>å®‰è£…IPython <code>pip3 install ipython</code></p>
<h3 id="åˆ—è¡¨æ¨å¯¼list-comprehensions">åˆ—è¡¨æ¨å¯¼ï¼ˆList Comprehensionsï¼‰</h3>
<p>åˆ—è¡¨æ¨å¯¼èƒ½å¤Ÿä»£æ›¿ä¸‘é™‹çš„å¾ªç¯æ¥å¡«å……listï¼Œåˆ—è¡¨æ¨å¯¼çš„åŸºç¡€è¯­æ³•ä¸º</p>
<pre><code class="language-python">[ expression for item in list if conditional ]
</code></pre>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œç»™åˆ—è¡¨é¡ºåºå¡«å……æ•°å­—</p>
<pre><code class="language-python">mylist = [i for i in range(10)]
print(mylist)
# [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>
<p>å› ä¸ºä½ å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥åšä¸€äº›æ•°å­¦è¿ç®—</p>
<pre><code class="language-python">squares = [x**2 for x in range(10)]
print(squares)
# [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
</code></pre>
<p>ç”šè‡³å¯ä»¥è°ƒç”¨é¢å¤–çš„å‡½æ•°</p>
<pre><code class="language-python">def some_function(a):
    return (a + 5) / 2
    
my_formula = [some_function(i) for i in range(10)]
print(my_formula)
# [2, 3, 3, 4, 4, 5, 5, 6, 6, 7]
</code></pre>
<p>æœ€åï¼Œä½ å¯ä»¥ä½¿ç”¨<code>if</code>è¿‡æ»¤åˆ—è¡¨ï¼Œåœ¨ä¸‹é¢ä¾‹å­é‡Œæˆ‘ä»¬ä¿ç•™èƒ½è¢«2æ•´é™¤çš„æ•°å­—</p>
<pre><code class="language-python">filtered = [i for i in range(20) if i%2==0]
print(filtered)
# [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
</code></pre>
<h3 id="æ£€æŸ¥å¯¹è±¡çš„å†…å­˜ä½¿ç”¨æƒ…å†µ">æ£€æŸ¥å¯¹è±¡çš„å†…å­˜ä½¿ç”¨æƒ…å†µ</h3>
<p>ä½¿ç”¨<code>sys.getsizeof()</code>ä½ å¯ä»¥æ£€æŸ¥æŸä¸ªå¯¹è±¡çš„å†…å­˜ä½¿ç”¨æƒ…å†µ</p>
<pre><code class="language-python">import sys

mylist = range(0, 10000)
print(sys.getsizeof(mylist))
# 48
</code></pre>
<p>ç­‰ç­‰..ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§çš„åˆ—è¡¨åªç”¨äº†48ä¸ªå­—èŠ‚</p>
<p>è¿™æ˜¯å› ä¸ºrangeå‡½æ•°åªæ˜¯è¿”å›ä¸€ä¸ªè¡¨ç°åƒlistçš„ç±»ï¼Œrangeæ¯”ç¡®åˆ‡çš„æ•°å­—åˆ—è¡¨æœ‰æ›´å¥½çš„å†…å­˜æ•ˆç‡</p>
<p>ä½ å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æ¥åˆ›å»ºä¸€ä¸ªå®é™…çš„æ•°å­—listæ¥æŸ¥çœ‹</p>
<pre><code class="language-python">import sys

myreallist = [x for x in range(0, 10000)]
print(sys.getsizeof(myreallist))
# 87632
</code></pre>
<h3 id="è¿”å›å¤šä¸ªå€¼">è¿”å›å¤šä¸ªå€¼</h3>
<p>åœ¨Pythonçš„å‡½æ•°é‡Œï¼Œä¸éœ€è¦å€ŸåŠ©å­—å…¸ã€listæˆ–è€…classå°±å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼Œä¾‹å¦‚</p>
<pre><code class="language-python">def get_user(id):
    # fetch user from database
    # ....
    return name, birthdate

name, birthdate = get_user(4)
</code></pre>
<p>è¿”å›å¤šå°‘å€¼éƒ½æ²¡æœ‰å…³ç³»ï¼Œä½†æ˜¯è¶…è¿‡3ä¸ªå€¼éƒ½åº”è¯¥æ”¾åˆ°æ•°æ®ç±»å‹é‡Œé¢</p>
<h3 id="ä½¿ç”¨æ•°æ®ç±»data-classes">ä½¿ç”¨æ•°æ®ç±»(data classes)</h3>
<p>Pythonåœ¨3.7åæä¾›äº†æ•°æ®ç±»ï¼Œå®ƒç›¸æ¯”äºæ™®é€šç±»æœ‰ä¸€äº›ä¼˜ç‚¹ï¼Œæ¯”å¦‚è¿”å›å¤šä¸ªå€¼æˆ–è€…å­—å…¸</p>
<ul>
<li>æ•°æ®ç±»ä»£ç é‡å°‘</li>
<li>æ•°æ®ç±»å¯ä»¥æ¯”è¾ƒï¼Œå› ä¸ºç»§æ‰¿äº†<code>__eq__</code>æ–¹æ³•</li>
<li>åœ¨è°ƒè¯•ä¸­å¯ä»¥å¾ˆç®€å•çš„æ‰“å°å‡ºä¸€ä¸ªæ•°æ®ç±»ï¼Œå› ä¸º<code>__repr__</code>ä¹Ÿè¢«ç»§æ‰¿äº†</li>
<li>æ•°æ®ç±»æœ‰è¾“å…¥æç¤ºï¼Œå‡å°‘å‡ºé”™çš„æœºç‡</li>
</ul>
<p>æ•°æ®ç±»çš„ä¾‹å­</p>
<pre><code class="language-python">from dataclasses import dataclass

@dataclass
class Card:
    rank: str
    suit: str
    
card = Card(&quot;Q&quot;, &quot;hearts&quot;)

print(card == card)
# True

print(card.rank)
# 'Q'

print(card)
Card(rank='Q', suit='hearts')
</code></pre>
<h3 id="å˜é‡åŸåœ°äº¤æ¢">å˜é‡åŸåœ°äº¤æ¢</h3>
<p>ä¸€ä¸ªå°æŠ€å·§ï¼Œå¯ä»¥å‡å°‘ä»£ç è¡Œæ•°</p>
<pre><code class="language-python">a = 1
b = 2
a, b = b, a
print (a)
# 2
print (b)
# 1
</code></pre>
<h3 id="åˆå¹¶å­—å…¸python-35">åˆå¹¶å­—å…¸(Python 3.5+)</h3>
<p>Python3.5åï¼Œåˆå¹¶å­—å…¸å˜å¾—æ›´ç®€å•äº†</p>
<pre><code class="language-python">dict1 = { 'a': 1, 'b': 2 }
dict2 = { 'b': 3, 'c': 4 }
merged = { **dict1, **dict2 }
print (merged)
# {'a': 1, 'b': 3, 'c': 4}
</code></pre>
<p>å¦‚æœæœ‰é‡å¤çš„keysï¼Œç¬¬ä¸€ä¸ªå­—å…¸çš„keyå€¼å°†ä¼šè¢«é‡å†™</p>
<h3 id="å­—ç¬¦ä¸²çš„æ ‡é¢˜å†™æ³•">å­—ç¬¦ä¸²çš„æ ‡é¢˜å†™æ³•</h3>
<p>è¿™æ˜¯è¯­æ³•ç³–çš„ä¸€ä¸ª</p>
<pre><code class="language-python">mystring = &quot;10 awesome python tricks&quot;
print(mystring.title())
'10 Awesome Python Tricks'
</code></pre>
<h3 id="æ‹†åˆ†å­—ç¬¦ä¸²è½¬æˆlist">æ‹†åˆ†å­—ç¬¦ä¸²è½¬æˆlist</h3>
<p>ä½ å¯ä»¥æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œç„¶åè½¬æˆstringåˆ—è¡¨ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç©ºæ ¼æ‹†åˆ†</p>
<pre><code class="language-python">mystring = &quot;The quick brown fox&quot;
mylist = mystring.split(' ')
print(mylist)
# ['The', 'quick', 'brown', 'fox']
</code></pre>
<h3 id="ä»stringåˆ—è¡¨åˆ›å»ºstring">ä»stringåˆ—è¡¨åˆ›å»ºstring</h3>
<p>å’Œå‰é¢çš„æŠ€å·§ç›¸åï¼Œstringåˆ—è¡¨ä¸­æ¯ä¸¤ä¸ªstringä¹‹é—´æ”¾ç©ºæ ¼ï¼Œæœ€ç»ˆè½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</p>
<pre><code class="language-python">mylist = ['The', 'quick', 'brown', 'fox']
mystring = &quot; &quot;.join(mylist)
print(mystring)
# 'The quick brown fox'
</code></pre>
<p>å¦‚æœä½ åœ¨æƒ³ä¸ºä»€ä¹ˆä¸æ˜¯<code>mylist.join(&quot; &quot;)</code>ï¼Œå¥½é—®é¢˜ï¼</p>
<p>è¿™æ˜¯å› ä¸º<code>String.join()</code>æ–¹æ³•ä¸ä»…å¯ä»¥ä½¿ç”¨åœ¨listä¸Šé¢ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•å¯è¿­ä»£å¯¹è±¡ä¸Šé¢ã€‚æ”¾åœ¨Stringçš„å‡½æ•°é‡Œé¢å¯ä»¥é€‚ç”¨äºå¤šä¸ªåœ°æ–¹ã€‚</p>
<h3 id="emoji">Emoji</h3>
<p>è¿™ä¸€ä¸ªè¦ä¹ˆä»¤äººå°è±¡æ·±åˆ»ï¼Œè¦ä¹ˆè®©äººæ’æ–¥ï¼Œå–å†³äºä½ æ€ä¹ˆçœ‹å¾…çš„ã€‚ä¸€ä¸ªé‡è¦çš„äº‹å®æ˜¯å®ƒå¯ä»¥åœ¨ç¤¾äº¤åª’ä½“åˆ†æä¸Šç”¨åˆ°ã€‚</p>
<p>å®‰è£…emojiæ¨¡å—</p>
<pre><code class="language-python">pip install emoji
</code></pre>
<p>å®‰è£…åï¼Œä½ å¯ä»¥ä¸‹é¢çš„ç”¨æ³•</p>
<pre><code class="language-python">import emoji
result = emoji.emojize('Python is :thumbs_up:')
print(result)
# 'Python is ğŸ‘'

# You can also reverse this:
result = emoji.demojize('Python is ğŸ‘')
print(result)
# 'Python is :thumbs_up:'
</code></pre>
<h3 id="åˆ—è¡¨åˆ‡ç‰‡">åˆ—è¡¨åˆ‡ç‰‡</h3>
<p>åˆ—è¡¨åˆ‡ç‰‡çš„åŸºç¡€è¯­æ³•ä¸º</p>
<pre><code class="language-python">a[start:stop:step]
</code></pre>
<p><code>start</code>,<code>stop</code>å’Œ<code>step</code>éƒ½æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä½ ä¸å¡«ï¼Œé»˜è®¤ä¸º</p>
<ul>
<li>starté»˜è®¤ä¸º0</li>
<li>endé»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®</li>
<li>stepé»˜è®¤ä¸º1</li>
</ul>
<p>ä¾‹å­</p>
<pre><code class="language-python"># We can easily create a new list from 
# the first two elements of a list:
first_two = [1, 2, 3, 4, 5][0:2]
print(first_two)
# [1, 2]

# And if we use a step value of 2, 
# we can skip over every second number
# like this:
steps = [1, 2, 3, 4, 5][0:5:2]
print(steps)
# [1, 3, 5]

# This works on strings too. In Python,
# you can treat a string like a list of
# letters:
mystring = &quot;abcdefdn nimt&quot;[::2]
print(mystring)
# 'aced it'
</code></pre>
<h3 id="åè½¬å­—ç¬¦ä¸²å’Œåˆ—è¡¨">åè½¬å­—ç¬¦ä¸²å’Œåˆ—è¡¨</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨ä¸Šé¢è¯´åˆ°çš„åˆ‡ç‰‡æ¥åè½¬å­—ç¬¦ä¸²æˆ–è€…listï¼Œé€šè¿‡è®¾ç½®stepæˆè´Ÿæ•°å€¼-1ï¼Œå…ƒç´ å°±å¯ä»¥è¢«åè½¬</p>
<pre><code class="language-python">revstring = &quot;abcdefg&quot;[::-1]
print(revstring)
# 'gfedcba'

revarray = [1, 2, 3, 4, 5][::-1]
print(revarray)
# [5, 4, 3, 2, 1]
</code></pre>
<p>###æ˜¾ç¤ºå›¾ç‰‡</p>
<p>æˆ‘ç»ˆäºå‘ç°ä¸€ä¸ªå€Ÿå£å¯ä»¥åœ¨æˆ‘çš„æ–‡ç« é‡Œé¢åŠ å…¥çŒ«ï¼Œä½ å¯èƒ½ä¼šç”¨å®ƒæ˜¾ç¤ºå›¾å½¢æˆ–è€…å…¶ä»–çš„ï¼Œé¦–å…ˆï¼Œå®‰è£…Pillowï¼Œè¿™æ˜¯Python Image Libraryçš„ä¸€ä¸ªfork</p>
<pre><code class="language-python">pip3 install Pillow
</code></pre>
<p>ç°åœ¨å¯ä»¥ä¸‹è½½ä¸€ä¸ªå«åškittens.jpgçš„å›¾ç‰‡</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç å»æ˜¾ç¤ºå›¾ç‰‡</p>
<pre><code class="language-python">from PIL import Image

im = Image.open(&quot;kittens.jpg&quot;)
im.show()
print(im.format, im.size, im.mode)
# JPEG (1920, 1357) RGB
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨IPythonä¸­ä½¿ç”¨</p>
<p>Pillowä¸ä»…å¯ä»¥æ˜¾ç¤ºå›¾ç‰‡ï¼Œè¿˜å¯ä»¥åˆ†æï¼Œè½¬æ¢å¤§å°ï¼Œè¿‡æ»¤ï¼Œå¢å¼ºï¼Œå˜å½¢ç­‰ç­‰ã€‚</p>
<h3 id="ä½¿ç”¨map">ä½¿ç”¨map()</h3>
<p><code>map()</code>æ˜¯Pythonçš„å†…å»ºå‡½æ•°ï¼Œ<code>map()</code>çš„è¯­æ³•ä¸º</p>
<pre><code class="language-python">map(function, something_iterable)
</code></pre>
<p>æ‰€ä»¥ä½ å¯ä»¥ç»™å®ƒä¸€ä¸ªå‡½æ•°æˆ–è€…å…¶ä»–çš„å»æ‰§è¡Œï¼Œå®ƒèƒ½å¤Ÿå¤„ç†ä»»ä½•çš„å¯è¿­ä»£å¯¹è±¡ã€‚ä¸‹é¢çš„ä¾‹å­é‡Œæˆ‘ç”¨çš„list</p>
<pre><code class="language-python">def upper(s):
    return s.upper()
    
mylist = list(map(upper, ['sentence', 'fragment']))
print(mylist)
# ['SENTENCE', 'FRAGMENT']

# Convert a string representation of
# a number into a list of ints.
list_of_ints = list(map(int, &quot;1234567&quot;)))
print(list_of_ints)
# [1, 2, 3, 4, 5, 6, 7]
</code></pre>
<p>æŸ¥çœ‹ä½ çš„ä»£ç ï¼Œçœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆåœ°æ–¹å¯ä»¥ç”¨<code>map()</code>æ¥æ›¿æ¢å¾ªç¯</p>
<h3 id="ä»åˆ—è¡¨å’Œå­—ç¬¦ä¸²è·å–ä¸é‡å¤çš„å…ƒç´ ">ä»åˆ—è¡¨å’Œå­—ç¬¦ä¸²è·å–ä¸é‡å¤çš„å…ƒç´ </h3>
<p>é€šè¿‡ç”¨<code>set()</code>åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œä½ èƒ½ä»åˆ—è¡¨æˆ–ç±»åˆ—è¡¨å¯¹è±¡é‡Œé¢å¾—åˆ°æ‰€æœ‰çš„ä¸é‡å¤å…ƒç´ </p>
<pre><code class="language-python">mylist = [1, 1, 2, 3, 4, 5, 5, 5, 6, 6]
print (set(mylist))
# {1, 2, 3, 4, 5, 6}

# And since a string can be treated like a 
# list of letters, you can also get the 
# unique letters from a string this way:
print (set(&quot;aaabbbcccdddeeefff&quot;))
# {'a', 'b', 'c', 'd', 'e', 'f'}
</code></pre>
<h3 id="å‘ç°å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ ">å‘ç°å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ </h3>
<p>ä»åˆ—è¡¨å’Œå­—ç¬¦ä¸²å‘ç°å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ </p>
<pre><code class="language-python">test = [1, 2, 3, 4, 2, 2, 3, 1, 4, 4, 4]
print(max(set(test), key = test.count))
</code></pre>
<p>ä½ ç†è§£è¿™æ˜¯æ€ä¹ˆå·¥ä½œçš„å—ï¼Ÿåœ¨ç»§ç»­é˜…è¯»å‰å°è¯•è‡ªå·±ç†è§£ä¸€ä¸‹</p>
<ul>
<li><code>max()</code>å°†ä¼šè¿”å›listé‡Œé¢æœ€å¤§çš„å€¼ï¼Œ<code>key</code>å‚æ•°ç”¨æ¥ä¼ å…¥ä¸€ä¸ªç®€å•çš„æ’åºå‡½æ•°ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæ˜¯<code>test.count</code>ï¼Œè¿™ä¸ªå‡½æ•°ä½œç”¨äºå¯è¿­ä»£å¯¹è±¡é‡Œé¢çš„æ¯ä¸€æ¡ç›®ã€‚</li>
<li><code>test.count</code>æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„å†…ç½®å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œç„¶åç»Ÿè®¡è¿™ä¸ªå‚æ•°çš„å‡ºç°æ¬¡æ•°ï¼Œæ‰€ä»¥<code>test.count(1)</code>å°†ä¼šè¿”å›2ï¼Œ<code>test.count</code>å°†ä¼šè¿”å›4</li>
<li>set(test)è¿”å›testä¸­çš„æ‰€æœ‰ä¸é‡å¤å€¼ï¼Œæ˜¯{1,2,3,4}</li>
</ul>
<p>æ‰€ä»¥åœ¨è¿™ä¸€è¡Œä»£ç é‡Œé¢ï¼Œæˆ‘ä»¬è·å–testçš„æ‰€æœ‰ä¸é‡å¤çš„å€¼{1,2,3,4}ï¼Œç„¶åmaxè°ƒç”¨<code>list.count</code>å‡½æ•°ï¼Œè¿”å›æœ€å¤§çš„å€¼</p>
<h3 id="åˆ›å»ºè¿›åº¦æ¡">åˆ›å»ºè¿›åº¦æ¡</h3>
<p>ä½ å¯ä»¥è‡ªå·±åˆ›å»ºè¿›åº¦æ¡ï¼Œè¿™ä¹Ÿå¾ˆæœ‰è¶£ï¼Œä½†æ˜¯å¦‚æœä½ ç”¨_progress_åŒ…çš„è¯ä¼šæ›´å¿«</p>
<p><code>pip3 install progress</code></p>
<p>ç°åœ¨ä½ å¯ä»¥è½»æ˜“çš„åˆ›å»ºè¿›åº¦æ¡</p>
<pre><code class="language-python">from progress.bar import Bar

bar = Bar('Processing', max=20)
for i in range(20):
    # Do some work
    bar.next()
bar.finish()
</code></pre>
<p>ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†æ‰€æœ‰å¯ç”¨çš„è¿›åº¦æ¡ç±»å‹</p>
<figure data-type="image" tabindex="1"><img src="https://tencent-1256324020.cos.ap-shanghai.myqcloud.com/20200119175403.png" alt="" loading="lazy"></figure>
<p>###åœ¨äº¤äº’ç•Œé¢ä½¿ç”¨ä¸‹åˆ’çº¿</p>
<p>ä½ å¯ä»¥ç”¨ä¸‹åˆ’çº¿è·å¾—æœ€è¿‘ä¸€æ¬¡çš„æ‰§è¡Œç»“æœï¼Œä¾‹å¦‚åœ¨IPythonä¸­ï¼š</p>
<pre><code>In [1]: 3 * 3
Out[1]: 9
In [2]: _ + 3
Out[2]: 12
</code></pre>
<p>åœ¨Pythonå‘½ä»¤è¡Œé‡Œé¢ä¹Ÿå¯ä»¥ç”¨ï¼Œå¦å¤–ï¼ŒIPythonå‘½ä»¤è¡Œå…è®¸ä½ ä½¿ç”¨<code>Out[n]</code>å»è·å–<code>In[n]</code>çš„æ‰§è¡Œç»“æœï¼Œä¾‹å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œ<code>Out[1]</code>å°†ä¼šè·å–åˆ°9</p>
<h3 id="å¿«é€Ÿåˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨">å¿«é€Ÿåˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨</h3>
<p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œæä¾›å½“å‰ç›®å½•çš„å†…å®¹</p>
<pre><code>python3 -m http.server
</code></pre>
<p>å¦‚æœä½ æƒ³å’ŒåŒäº‹åˆ†äº«ä¸œè¥¿æˆ–è€…æµ‹è¯•ç®€å•çš„Htmlç«™ç‚¹çš„æ—¶å€™ï¼Œè¿™æ˜¯éå¸¸æœ‰ç”¨çš„</p>
<h3 id="å¤šè¡Œå­—ç¬¦ä¸²">å¤šè¡Œå­—ç¬¦ä¸²</h3>
<p>è™½ç„¶åœ¨ä»£ç é‡Œä½ å¯ä»¥ç”¨ä¸‰ä¸ªå¼•å·å°†å¤šè¡Œçš„å­—ç¬¦ä¸²åŒ…èµ·æ¥ï¼Œä½†æ˜¯è¿™å¹¶ä¸ç†æƒ³ï¼Œä½ æ”¾åœ¨å¤šè¡Œå­—ç¬¦ä¸²çš„æ‰€æœ‰å†…å®¹åŒ…æ‹¬æ ¼å¼åŒ–ä¹Ÿä¼šå˜æˆå­—ç¬¦ä¸²ã€‚</p>
<p>æˆ‘æ›´æ¨èç¬¬äºŒç§æ–¹å¼ï¼Œè¿™å¯ä»¥è¿æ¥å¤šè¡Œå­—ç¬¦ä¸²ï¼Œä¹Ÿå…è®¸ä½ è¿›è¡Œæ ¼å¼åŒ–ã€‚å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ä½ éœ€è¦æ˜¾å¼çš„æ·»åŠ æ¢è¡Œç¬¦</p>
<pre><code class="language-python">
s1 = &quot;&quot;&quot;Multi line strings can be put
        between triple quotes. It's not ideal
        when formatting your code though&quot;&quot;&quot;

print (s1)
# Multi line strings can be put
#         between triple quotes. It's not ideal
#         when formatting your code though
        
s2 = (&quot;You can also concatenate multiple\n&quot; +
        &quot;strings this way, but you'll have to\n&quot;
        &quot;explicitly put in the newlines&quot;)

print(s2)
# You can also concatenate multiple
# strings this way, but you'll have to
# explicitly put in the newlines
</code></pre>
<h3 id="å¸¦æœ‰æ¡ä»¶çš„ä¸‰å…ƒæ“ä½œç¬¦">å¸¦æœ‰æ¡ä»¶çš„ä¸‰å…ƒæ“ä½œç¬¦</h3>
<p>è¿™æ˜¯å¦ä¸€ç§ä½¿ä½ çš„ä»£ç æ›´ç®€æ´çš„åŒæ—¶ä¿æŒå¯è¯»æ€§çš„æ–¹æ³•</p>
<pre><code class="language-python">[on_true] if [expression] else [on_false]
</code></pre>
<pre><code class="language-python">x = &quot;Success!&quot; if (y == 2) else &quot;Failed!&quot;
</code></pre>
<h3 id="ç»Ÿè®¡å‡ºç°æ¬¡æ•°">ç»Ÿè®¡å‡ºç°æ¬¡æ•°</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨<code>collections</code>åº“é‡Œé¢çš„<code>Counter</code>å»ç»Ÿè®¡ä¸€ä¸ªåˆ—è¡¨é‡Œé¢çš„å…ƒç´ å‡ºç°æ¬¡æ•°ï¼Œè¿™å°†è¿”å›ä¸€ä¸ªå­—å…¸</p>
<pre><code class="language-python">from collections import Counter

mylist = [1, 1, 2, 3, 4, 5, 5, 5, 6, 6]
c = Counter(mylist)
print(c)
# Counter({1: 2, 2: 1, 3: 1, 4: 1, 5: 3, 6: 2})

# And it works on strings too:
print(Counter(&quot;aaaaabbbbbccccc&quot;))
# Counter({'a': 5, 'b': 5, 'c': 5})
</code></pre>
<p>###æ¯”è¾ƒé“¾</p>
<p>ä½ å¯ä»¥ä½¿ç”¨æ¯”è¾ƒé“¾æ¥åˆ›å»ºæ›´ç®€æ´å¯è¯»çš„ä»£ç </p>
<pre><code class="language-python">
x = 10

# Instead of:
if x &gt; 5 and x &lt; 15:
    print(&quot;Yes&quot;)
# yes

# You can also write:
if 5 &lt; x &lt; 15:
    print(&quot;Yes&quot;)
# Yes
</code></pre>
<h3 id="æ·»åŠ é¢œè‰²">æ·»åŠ é¢œè‰²</h3>
<p>ä½¿ç”¨Coloramaï¼Œä½ å¯ä»¥åœ¨terminalé‡Œé¢æ·»åŠ é¢œè‰²</p>
<pre><code class="language-python">from colorama import Fore, Back, Style

print(Fore.RED + 'some red text')
print(Back.GREEN + 'and with a green background')
print(Style.DIM + 'and in dim text')
print(Style.RESET_ALL)
print('back to normal now')
</code></pre>
<p>###å¤„ç†æ—¥æœŸ</p>
<p>python-dateutilæ¨¡å—æä¾›ç¬”æ ‡å‡†åº“æ›´åŠ å¼ºå¤§çš„æ—¥æœŸå¤„ç†ï¼Œå®‰è£…ï¼š</p>
<pre><code class="language-shell">pip3 install python-dateutil 
</code></pre>
<p>ä½ å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œæˆ‘å°†ä¸‹é¢çš„ä¾‹å­é™å®šä¸ºæˆ‘å‘ç°ç‰¹åˆ«æœ‰ç”¨çš„ï¼šlogæ–‡ä»¶çš„æ¨¡ç³Šæ—¥æœŸè§£æ</p>
<pre><code class="language-python">from dateutil.parser import parse

logline = 'INFO 2020-01-01T00:00:01 Happy new year, human.'
timestamp = parse(log_line, fuzzy=True)
print(timestamp)
# 2020-01-01 00:00:01
</code></pre>
<p>è®°å¾—ï¼šå¦‚æœPythonçš„datetimeä¸è¡Œçš„æ—¶å€™ï¼Œå°±ç”¨python-dateutil</p>
<h3 id="æ•´é™¤">æ•´é™¤</h3>
<p>åœ¨Python2é‡Œé¢ï¼Œé™¤æ³•æ“ä½œç¬¦<code>/</code>é»˜è®¤å°±æ˜¯æ•´é™¤ï¼Œé™¤éæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯æµ®ç‚¹å‹ï¼Œå¦‚ä¸‹</p>
<pre><code class="language-python"># Python 2
5 / 2 = 2
5 / 2.0 = 2.5
</code></pre>
<p>åœ¨Python3é‡Œé¢ï¼Œé™¤æ³•æ“ä½œç¬¦é»˜è®¤å°±æ˜¯æµ®ç‚¹é™¤æ³•ï¼Œ<code>//</code>æ“ä½œç¬¦å˜æˆäº†æ•´é™¤ï¼Œå¦‚ä¸‹</p>
<pre><code class="language-python">Python 3
5 / 2 = 2.5
5 // 2 = 2
</code></pre>
<p>æƒ³äº†è§£è¿™ä¸€å˜åŒ–çš„æ¥é¾™å»è„‰ï¼Œä½ å¯ä»¥è¯»<a href="https://www.python.org/dev/peps/pep-0238/">PEP-0238</a></p>
<p>###ç”¨chardetåšç¼–ç æ£€æµ‹</p>
<p>ä½ å¯ä»¥ä½¿ç”¨chardetæ¨¡å—æ£€æµ‹ä¸€ä¸ªæ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ†ææœªçŸ¥æ–‡æœ¬çš„æœ‰ç”¨æ–¹æ³•ï¼Œå®‰è£…æ–¹å¼ï¼š</p>
<pre><code>pip install chardet
</code></pre>
<p>ä½ ç°åœ¨æœ‰äº†ä¸€ä¸ªé¢å¤–çš„å‘½ä»¤è¡Œå·¥å…·<code>chardet</code>ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p>
<pre><code class="language-shell">chardetect somefile.txt
somefile.txt: ascii with confidence 1.0
</code></pre>
<p>ä½ å¯ä»¥åœ¨ç¼–ç¨‹é‡Œä½¿ç”¨ï¼Œ<a href="https://chardet.readthedocs.io/en/latest/usage.html">æŸ¥çœ‹æ–‡æ¡£</a></p>
<p>è¿™å°±æ˜¯æ–°å¹´å¼€å§‹çš„Python30ä¸ªæŠ€å·§ï¼Œæˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·çš„å–œæ¬¢å®ƒï¼Œå¦‚æœä½ æœ‰æƒ³æ·»åŠ çš„ï¼Œæ¬¢è¿ç•™è¨€ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å…³äº]]></title>
        <id>http://stoneskipping.info/post/about</id>
        <link href="http://stoneskipping.info/post/about">
        </link>
        <updated>2019-01-25T11:09:48.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤</p>
</blockquote>
<h2 id="å…³äºæœ¬ç«™">ğŸ  å…³äºæœ¬ç«™</h2>
<p>åšå®¢</p>
<h2 id="åšä¸»æ˜¯è°">ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°</h2>
<p>xiaohu</p>
<h2 id="å…´è¶£çˆ±å¥½">â›¹ å…´è¶£çˆ±å¥½</h2>
<p>coding</p>
<h2 id="è”ç³»æˆ‘å‘€">ğŸ“¬ è”ç³»æˆ‘å‘€</h2>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[spring bootè‡ªå®šä¹‰é…ç½®æ–‡ä»¶]]></title>
        <id>http://stoneskipping.info/post/spring-bootè‡ªå®šä¹‰é…ç½®æ–‡ä»¶</id>
        <link href="http://stoneskipping.info/post/spring-bootè‡ªå®šä¹‰é…ç½®æ–‡ä»¶">
        </link>
        <updated>2018-09-10T08:04:50.000Z</updated>
        <content type="html"><![CDATA[<p>é…ç½®ç±»</p>
<pre><code class="language-java">@Data
@Component
@ConfigurationProperties(prefix = &quot;coin.stc&quot;)
@PropertySource(&quot;classpath:config/coins.properties&quot;)
public class StcProperties {
    /**
     * åè®®
     */
    private String protocol;
    /**
     * ä¸»æœº
     */
    private String host;
    /**
     * ç«¯å£
     */
    private String port;
    /**
     * token
     */
    private String accesstoken;

}
</code></pre>
<p>é…ç½®æ–‡ä»¶<code>config/coins.properties</code></p>
<pre><code class="language-ini"># stc
coin.stc.protocol = http
coin.stc.host = 192.168.102.246
coin.stc.port = 50011
coin.stc.accesstoken = 86349b9c59f85a97f2bbce808d200d60
</code></pre>
<p>ä½¿ç”¨ä¸‹é¢æ–¹å¼ä½¿è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä½¿ç”¨profile</p>
<pre><code class="language-java">@PropertySource(&quot;classpath:config/coins${spring.profiles.active}.properties&quot;)
</code></pre>
<p>æµ‹è¯•é…ç½®æ˜¯å¦å¯¼å…¥</p>
<pre><code class="language-java">@RunWith(SpringRunner.class)
@SpringBootTest
public class StcJSONRPCClientTest {

    @Autowired
    private StcProperties stcProperties;

    @Test
    public void getClient() {
        System.out.println(stcProperties.getAccesstoken());
        assertEquals(&quot;86349b9c59f85a97f2bbce808d200d60&quot;,stcProperties.getAccesstoken());
    }
}
</code></pre>
<p>å‚è€ƒ<br>
<a href="https://stackoverflow.com/questions/43179240/how-to-add-profile-specific-properties-files-when-i-have-custom-name-to-my-prope">*<strong>How to add profile specific properties files when I have custom name to my property file</strong></a><br>
<a href="https://stackoverflow.com/questions/38042035/springboot-not-loading-application-dev-properties-file">Springboot not loading application.dev.properties file<br>
</a><br>
<a href="https://blog.csdn.net/zsl129/article/details/52880798">Springboot ä¹‹ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶åŠè¯»å–é…ç½®æ–‡ä»¶</a><br>
<a href="https://stackoverflow.com/questions/41263105/how-to-load-property-file-based-on-spring-profiles">*<strong>How to load property file based on spring profiles</strong></a><br>
<a href="https://blog.csdn.net/qq_29614459/article/details/71486708">SpringBoot è¯»å–é…ç½®æ–‡ä»¶åŠprofilesåˆ‡æ¢é…ç½®æ–‡ä»¶</a><br>
<a href="https://juejin.im/post/5a9be3cb51882555627cbc1f">*<strong>æ·±å…¥Spring Boot (ä¸‰)ï¼šPropertieså±æ€§é…ç½®æ–‡ä»¶ä½¿ç”¨è¯¦è§£</strong></a><br>
<a href="https://blog.csdn.net/u012100371/article/details/78081634">spring boot å¤šç¯å¢ƒé…ç½®è¯»å–å±æ€§æ–‡ä»¶</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[React Nativeé‡åˆ°çš„å‘]]></title>
        <id>http://stoneskipping.info/post/react-nativeé‡åˆ°çš„å‘</id>
        <link href="http://stoneskipping.info/post/react-nativeé‡åˆ°çš„å‘">
        </link>
        <updated>2018-08-30T23:29:53.000Z</updated>
        <summary type="html"><![CDATA[<ol>
<li>andoridçš„æ–‡ä»¶é‡Œé¢éœ€è¦æ·»åŠ local.properties <a href="https://stackoverflow.com/questions/32634352/react-native-android-build-failed-sdk-location-not-found">é“¾æ¥</a></li>
</ol>
]]></summary>
        <content type="html"><![CDATA[<ol>
<li>andoridçš„æ–‡ä»¶é‡Œé¢éœ€è¦æ·»åŠ local.properties <a href="https://stackoverflow.com/questions/32634352/react-native-android-build-failed-sdk-location-not-found">é“¾æ¥</a></li>
</ol>
<!-- more -->
<pre><code>```
1. Go to your React native Project -&gt; Android
2. Create a file local.properties
3. Open the file
4. paste your Android SDK path like below

in Windows sdk.dir = C:\\Users\\USERNAME\\AppData\\Local\\Android\\sdk
in macOS sdk.dir = /Users/USERNAME/Library/Android/sdk
in linux sdk.dir = /home/USERNAME/Android/Sdk
Replace USERNAME with your user name
```
</code></pre>
<ol start="2">
<li><s>å…ˆç”¨ASåˆ›å»ºä¸€ä¸ªhello worldåº”ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°<code>Building and installing the app on the device (cd android &amp;&amp; gradlew.bat installDebug</code>ç„¶åå¼€å§‹ä¸‹è½½gradleï¼Œä½†æ˜¯å› ä¸ºç½‘ç»œé—®é¢˜ï¼Œä¸€ç›´æ— æ³•ä¸‹è½½å®Œæˆ</s>ä¸æ¸…æ¥šä»€ä¹ˆåŸå› ï¼Œç¬¬ä¸€å¤©ä¸€ç›´æ— æ³•ä¸‹è½½å®Œæˆï¼Œä½†æ˜¯ç¬¬äºŒå¤©ç”¨ASåˆ›å»ºä¸€ä¸ªé¡¹ç›®åï¼Œä¸€ä¼šå°±ä¸‹è½½å®Œæˆäº†ï¼Œå¯èƒ½ä¹‹é—´æ²¡æœ‰å…³ç³»</li>
<li>å¦‚æœé‡åˆ° <code>http://localhost:8081</code> 502çš„é”™è¯¯,å¯èƒ½æ˜¯å› ä¸ºå¼€äº†ä»£ç†çš„é—®é¢˜,ä»£ç†æ— æ³•è¯†åˆ«<code>localhost</code>ä½œä¸ºç›´æ¥ä»£ç†</li>
<li>è¿œç¨‹è°ƒè¯•å¯èƒ½éœ€è¦ä¿®æ”¹Dev settings &gt; Debug server host &amp; port for deviceå’Œæ‰§è¡Œå‘½ä»¤<code>adb reverse tcp:8081 tcp:8081</code></li>
<li>ä½¿ç”¨ <code>npm i -g typescript</code>å’Œ<code>npm install @types/react-native</code>åå¯ä»¥ä½¿ç”¨è‡ªåŠ¨å¯¼å…¥(vscode)</li>
<li>æ·»åŠ <code>.npmrc</code>æ–‡ä»¶å¹¶ä½¿ç”¨ä»¥ä¸‹é…ç½®æ¥åŠ å¿«é€Ÿåº¦<pre><code>sass_binary_site=https://npm.taobao.org/mirrors/node-sass/  
registry=https://registry.npm.taobao.org
</code></pre>
</li>
<li>ä½¿ç”¨<code>yarn add package-name@1.2.3</code>æ¥å®‰è£…æŒ‡å®šç‰ˆæœ¬, <strong>parkage@^4.0.0</strong>è¡¨ç¤º4.x.xçš„ç‰ˆæœ¬éƒ½å¯ä»¥å…¼å®¹, <strong>package@~4.0.0</strong>è¡¨ç¤º4.0.xéƒ½å¯ä»¥å…¼å®¹</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[golangç¯å¢ƒè®¾ç½®]]></title>
        <id>http://stoneskipping.info/post/golangç¯å¢ƒè®¾ç½®</id>
        <link href="http://stoneskipping.info/post/golangç¯å¢ƒè®¾ç½®">
        </link>
        <updated>2018-08-30T09:50:45.000Z</updated>
        <summary type="html"><![CDATA[<ul>
<li>goalngä¸‹è½½åœ°å€ <a href="https://dl.google.com/go/go1.11.linux-amd64.tar.gz">https://dl.google.com/go/go1.11.linux-amd64.tar.gz</a></li>
</ul>
]]></summary>
        <content type="html"><![CDATA[<ul>
<li>
<p>goalngä¸‹è½½åœ°å€ <a href="https://dl.google.com/go/go1.11.linux-amd64.tar.gz">https://dl.google.com/go/go1.11.linux-amd64.tar.gz</a></p>
<!-- more -->
</li>
<li>
<p>è§£å‹ <code>tar -C /usr/local -xzf go$VERSION.$OS-$ARCH.tar.gz</code> <strong>è¯·ä½¿ç”¨rootæƒé™</strong></p>
</li>
<li>
<p>é…ç½®goç¯å¢ƒå˜é‡ <code>export PATH=$PATH:/usr/local/go/bin</code></p>
</li>
<li>
<p>æµ‹è¯•goå¯ç”¨ <code>go version</code></p>
</li>
<li>
<p>æ·»åŠ GOPATH <code>export GOPATH=/home/go</code></p>
</li>
<li>
<p>æ·»åŠ go bin <code>export PATH=$PATH:/home/go/bin</code></p>
</li>
<li>
<p>å®‰è£…glide <code>curl https://glide.sh/get | sh</code></p>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[zecçš„å®‰è£…]]></title>
        <id>http://stoneskipping.info/post/zecçš„å®‰è£…</id>
        <link href="http://stoneskipping.info/post/zecçš„å®‰è£…">
        </link>
        <updated>2018-07-19T12:34:39.000Z</updated>
        <content type="html"><![CDATA[<h3 id="é—®é¢˜1-glibcxx_3420">é—®é¢˜1 GLIBCXX_3.4.20</h3>
<pre><code>/lib64/libstdc++.so.6: version `GLIBCXX_3.4.20' not found
</code></pre>
<p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå‘ç°æ—¶å°‘äº†3.4.20</p>
<pre><code>[root@localhost src]# strings /usr/lib64/libstdc++.so.6 | grep GLIBCXX
GLIBCXX_3.4
GLIBCXX_3.4.1
GLIBCXX_3.4.2
GLIBCXX_3.4.3
GLIBCXX_3.4.4
GLIBCXX_3.4.5
GLIBCXX_3.4.6
GLIBCXX_3.4.7
GLIBCXX_3.4.8
GLIBCXX_3.4.9
GLIBCXX_3.4.10
GLIBCXX_3.4.11
GLIBCXX_3.4.12
GLIBCXX_3.4.13
GLIBCXX_3.4.14
GLIBCXX_3.4.15
GLIBCXX_3.4.16
GLIBCXX_3.4.17
GLIBCXX_3.4.18
GLIBCXX_3.4.19
GLIBCXX_DEBUG_MESSAGE_LENGTH
</code></pre>
<ul>
<li>å…ˆå®‰è£…gcc</li>
</ul>
<pre><code>wget https://ftp.gnu.org/gnu/gcc/gcc-8.1.0/gcc-8.1.0.tar.gz
//è§£å‹
//required libraries:
yum install libmpc-devel mpfr-devel gmp-devel

yum install zlib-devel*

./configure --with-system-zlib --disable-multilib --enable-languages=c,c++

make -j 8 &lt;== this may take around 70 minutes or less to finish with 8 threads
              (depending on your cpu speed)

make install
</code></pre>
<p>å‚è€ƒstackoverflowæ–‡ç« <br>
<a href="https://stackoverflow.com/questions/36327805/how-to-install-gcc-5-3-with-yum-on-centos-7-2">How to Install gcc 5.3 with yum on CentOS 7.2</a><br>
ç„¶åæ‰¾åˆ°libstdc++.so.6.0.25</p>
<p><code>find / -name libstdc++.so.6*</code></p>
<ul>
<li>æ›¿æ¢åŸæ¥çš„libstdc++.so.6</li>
</ul>
<pre><code>cp /usr/local/lib64/libstdc++.so.6.0.21 /usr/lib64/
cd /usr/lib64/
rm -f libstdc++.so.6
ln -s libstdc++.so.6.0.21 libstdc++.so.6
</code></pre>
<h3 id="é—®é¢˜2-æ²¡æœ‰glibc_218">é—®é¢˜2 æ²¡æœ‰glibc_2.18</h3>
<pre><code>/lib64/libc.so.6: version `GLIBC_2.18' not found (required by /lib64/libstdc++.so.6)
</code></pre>
<ul>
<li>å®‰è£…</li>
</ul>
<pre><code>curl -O http://ftp.gnu.org/gnu/glibc/glibc-2.18.tar.gz
tar zxf glibc-2.18.tar.gz 
cd glibc-2.18/
mkdir build
cd build/
../configure --prefix=/usr
make -j 4
make install
</code></pre>
<p><a href="https://www.jianshu.com/p/92c7a042d8ba">å‚è€ƒé“¾æ¥</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[supervisorçš„ä½¿ç”¨]]></title>
        <id>http://stoneskipping.info/post/supervisorçš„ä½¿ç”¨</id>
        <link href="http://stoneskipping.info/post/supervisorçš„ä½¿ç”¨">
        </link>
        <updated>2018-06-25T14:59:44.000Z</updated>
        <summary type="html"><![CDATA[<p>supervisoræ˜¯ä¸€ä¸ªç”¨ Python å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨æ¥å¯åŠ¨ã€é‡å¯ã€å…³é—­è¿›ç¨‹ï¼ˆä¸ä»…ä»…æ˜¯ Python è¿›ç¨‹ï¼‰ã€‚é™¤äº†å¯¹å•ä¸ªè¿›ç¨‹çš„æ§åˆ¶ï¼Œè¿˜å¯ä»¥åŒæ—¶å¯åŠ¨ã€å…³é—­å¤šä¸ªè¿›ç¨‹ï¼Œæ¯”å¦‚å¾ˆä¸å¹¸çš„æœåŠ¡å™¨å‡ºé—®é¢˜å¯¼è‡´æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½è¢«æ€æ­»ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ supervisor åŒæ—¶å¯åŠ¨æ‰€æœ‰åº”ç”¨ç¨‹åºè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªåœ°æ•²å‘½ä»¤å¯åŠ¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>supervisoræ˜¯ä¸€ä¸ªç”¨ Python å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨æ¥å¯åŠ¨ã€é‡å¯ã€å…³é—­è¿›ç¨‹ï¼ˆä¸ä»…ä»…æ˜¯ Python è¿›ç¨‹ï¼‰ã€‚é™¤äº†å¯¹å•ä¸ªè¿›ç¨‹çš„æ§åˆ¶ï¼Œè¿˜å¯ä»¥åŒæ—¶å¯åŠ¨ã€å…³é—­å¤šä¸ªè¿›ç¨‹ï¼Œæ¯”å¦‚å¾ˆä¸å¹¸çš„æœåŠ¡å™¨å‡ºé—®é¢˜å¯¼è‡´æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½è¢«æ€æ­»ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ supervisor åŒæ—¶å¯åŠ¨æ‰€æœ‰åº”ç”¨ç¨‹åºè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªåœ°æ•²å‘½ä»¤å¯åŠ¨ã€‚</p>
<!-- more -->
<h4 id="å®‰è£…">å®‰è£…</h4>
<p>å¯ä»¥ä½¿ç”¨</p>
<p><code>pip install supervisor</code><br>
<code>pip install git+https://github.com/Supervisor/supervisor</code> python3ç‰ˆæœ¬</p>
<p>æˆ–è€…ç”¨</p>
<p><code>yum install supervisor</code></p>
<h4 id="é…ç½®">é…ç½®</h4>
<p>è·å–é…ç½®æ–‡ä»¶</p>
<p><code>echo_supervisord_conf &gt; /etc/supervisord.conf</code><br>
å¦‚æœå‡ºç°<code>echo_supervisord_conf: command not **found**</code> åˆ™å¯èƒ½éœ€è¦è¾“å…¥å…¨è·¯å¾„ï¼Œä½¿ç”¨<br>
<code>find / -name supervisor*</code>æ‰¾åˆ°è·¯å¾„</p>
<pre><code class="language-ini">[unix_http_server]
file=/tmp/supervisor.sock   ; UNIX socket æ–‡ä»¶ï¼Œsupervisorctl ä¼šä½¿ç”¨
;chmod=0700                 ; socket æ–‡ä»¶çš„ modeï¼Œé»˜è®¤æ˜¯ 0700
;chown=nobody:nogroup       ; socket æ–‡ä»¶çš„ ownerï¼Œæ ¼å¼ï¼š uid:gid

;[inet_http_server]         ; HTTP æœåŠ¡å™¨ï¼Œæä¾› web ç®¡ç†ç•Œé¢
;port=127.0.0.1:9001        ; Web ç®¡ç†åå°è¿è¡Œçš„ IP å’Œç«¯å£ï¼Œå¦‚æœå¼€æ”¾åˆ°å…¬ç½‘ï¼Œéœ€è¦æ³¨æ„å®‰å…¨æ€§
;username=user              ; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å
;password=123               ; ç™»å½•ç®¡ç†åå°çš„å¯†ç 

[supervisord]
logfile=/tmp/supervisord.log ; æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ $CWD/supervisord.log
logfile_maxbytes=50MB        ; æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºä¼š rotateï¼Œé»˜è®¤ 50MB
logfile_backups=10           ; æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤‡ä»½æ•°é‡é»˜è®¤ 10
loglevel=info                ; æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ infoï¼Œå…¶å®ƒ: debug,warn,trace
pidfile=/tmp/supervisord.pid ; pid æ–‡ä»¶
nodaemon=false               ; æ˜¯å¦åœ¨å‰å°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯ falseï¼Œå³ä»¥ daemon çš„æ–¹å¼å¯åŠ¨
minfds=1024                  ; å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å°å€¼ï¼Œé»˜è®¤ 1024
minprocs=200                 ; å¯ä»¥æ‰“å¼€çš„è¿›ç¨‹æ•°çš„æœ€å°å€¼ï¼Œé»˜è®¤ 200

; the below section must remain in the config file for RPC
; (supervisorctl/web interface) to work, additional interfaces may be
; added by defining them in separate rpcinterface: sections
[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///tmp/supervisor.sock ; é€šè¿‡ UNIX socket è¿æ¥ supervisordï¼Œè·¯å¾„ä¸ unix_http_server éƒ¨åˆ†çš„ file ä¸€è‡´
;serverurl=http://127.0.0.1:9001 ; é€šè¿‡ HTTP çš„æ–¹å¼è¿æ¥ supervisord

; åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶
[include]
files = relative/directory/*.ini    ; å¯ä»¥æ˜¯ *.conf æˆ– *.ini ç”¨ç»å¯¹è·¯å¾„
</code></pre>
<h4 id="programé…ç½®">programé…ç½®</h4>
<p>å°†includeä¿®æ”¹ä¸º</p>
<pre><code class="language-ini">[include]
files = /etc/supervisord.d/*.ini
</code></pre>
<p>åœ¨å¯¹åº”çš„ç›®å½•ä¸‹é¢åˆ›å»ºæ–‡ä»¶</p>
<pre><code class="language-ini">[supervisord]
environment=PYTHONIOENCODING=utf-8,,FLASK_CONFIG=&quot;TESTING&quot;
[program:batt_allcoin]
directory = /home/app/batt_eth_allcoin ; ç¨‹åºçš„å¯åŠ¨ç›®å½•
command = python -B -u batt_eth_allcoin.py  ; å¯åŠ¨å‘½ä»¤
autostart = false    ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨
startsecs = 5        ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†
autorestart = false   ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯
startretries = 3 
redirect_stderr = true  ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ false
stdout_logfile_maxbytes = 5MB  ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ 50MB
stdout_logfile_backups = 20     ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°
stdout_logfile = /home/app/batt_eth_allcoin/debug.log

</code></pre>
<p>å¦ä¸€ä¸ªé…ç½®æ–‡ä»¶</p>
<pre><code class="language-ini">[program:binance]
directory = /home/app/coins/multi_coin ; ç¨‹åºçš„å¯åŠ¨ç›®å½•
command = python2 -B -u imitate_order.py  ; å¯åŠ¨å‘½ä»¤
autostart = false    ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨
startsecs = 5        ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†
autorestart = false   ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯
startretries = 3 
redirect_stderr = true  ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ false
stdout_logfile_maxbytes = 5MB  ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ 50MB
stdout_logfile_backups = 20     ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°
stdout_logfile = /home/app/coins/multi_coin/debug.log
</code></pre>
<h4 id="å¯åŠ¨">å¯åŠ¨</h4>
<p>å¯åŠ¨supervisor</p>
<p><code>supervisord -c /etc/supervisord.conf</code><br>
å¦‚æœsupervisorctlä¸å­˜åœ¨ï¼Œå°±æ‰¾åˆ°è·¯å¾„ä½¿ç”¨ <code>ln -s /usr/local/python3/bin/supervisorctl</code> æ·»åŠ è½¯é“¾æ¥ <code>/usr/bin/supervisorctl</code></p>
<p>å¯åŠ¨è¿›ç¨‹</p>
<pre><code>$ supervisorctl status
$ supervisorctl stop usercenter
$ supervisorctl start usercenter
$ supervisorctl restart usercenter
$ supervisorctl reread
$ supervisorctl update
</code></pre>
<p><em>æ³¨æ„</em><br>
åœ¨ä½¿ç”¨supervisorctl æ—¶ï¼Œå¦‚æœsupervisorctl æ— æ³•æŸ¥æ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Œ</p>
<p>supervisorctl  æ— æ³•è·çŸ¥ä¸supervisord è¯¥å¦‚ä½•é€šè®¯ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°å¦‚ä¸‹é”™è¯¯</p>
<pre><code>root@xxx:/home/operation# supervisorctl status  
http://localhost:9001 refused connection
</code></pre>
<p>å¤„ç†è§£å†³åŠæ³•ï¼š<a href="http://blog.51cto.com/finalbattle/1868454">supervisorctlé…ç½®æ–‡ä»¶ç®€ä»‹</a></p>
<pre><code>root@xxx:/home/operation# supervisorctl -c /path/to/supervisord.conf status  
root@xxx:/home/operation# ln -s /path/to/supervisord.conf /etc/
</code></pre>
<p><a href="http://liyangliang.me/posts/2015/06/using-supervisor/">ä½¿ç”¨ supervisor ç®¡ç†è¿›ç¨‹</a></p>
<p><a href="https://stackoverflow.com/questions/12900402/supervisor-and-environment-variables">Supervisor and Environment Variables<br>
</a></p>
<p><a href="https://www.jianshu.com/p/0226b7c59ae2">Supervisorçš„ä½œç”¨ä¸é…ç½®</a></p>
<p><a href="https://blog.csdn.net/orangleliu/article/details/45057377">[supervisor] ä½¿ç”¨å°è®°(å…¥é—¨æ•™ç¨‹)</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[mvnå¯¼å…¥æœ¬åœ°åŒ…]]></title>
        <id>http://stoneskipping.info/post/mvnå¯¼å…¥æœ¬åœ°åŒ…</id>
        <link href="http://stoneskipping.info/post/mvnå¯¼å…¥æœ¬åœ°åŒ…">
        </link>
        <updated>2018-05-29T03:20:22.000Z</updated>
        <content type="html"><![CDATA[<p>ç›´æ¥æ‰§è¡Œmvnå³å¯</p>
<pre><code>mvn install:install-file -Dfile=bitcoin-json-rpc-client-1.1.jar -DgroupId=com.azazar -DartifactId=bitcoin-json-rpc-client -Dversion=1.1 -Dpackaging=jar
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ·»åŠ ç¬¬äºŒä¸ªgitè´¦å·]]></title>
        <id>http://stoneskipping.info/post/æ·»åŠ ç¬¬äºŒä¸ªgitè´¦å·</id>
        <link href="http://stoneskipping.info/post/æ·»åŠ ç¬¬äºŒä¸ªgitè´¦å·">
        </link>
        <updated>2018-05-25T05:13:39.000Z</updated>
        <content type="html"><![CDATA[<h4 id="1-ç”Ÿæˆå…¬é’¥ç§é’¥">1. ç”Ÿæˆå…¬é’¥ç§é’¥</h4>
<pre><code>ssh-keygen -t rsa -C &quot;gaohubin@163.com&quot;  
</code></pre>
<p>è¾“å…¥ <strong>è‡ªå®šä¹‰</strong>çš„æ–‡ä»¶å id_rsa_labï¼Œç„¶åä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ <strong>id_rsa_lab.pub</strong>ä¸ <strong>id_rsa_lab</strong><br>
ç„¶åå¯†ç ä¸è¾“å…¥ç›´æ¥å›è½¦ä¸¤æ¬¡ï¼Œè¿™æ ·è™½ç„¶æœ‰ç‚¹ä¸å®‰å…¨ï¼Œä½†ä»¥åä¸ç”¨è¾“å¯†ç äº†</p>
<h4 id="2-å°†å…¬é’¥æ”¾å…¥gitlabçš„ssh-keyçš„è®¾ç½®é‡Œç‚¹å‡»add-key">2. å°†å…¬é’¥æ”¾å…¥gitlabçš„SSH keyçš„è®¾ç½®é‡Œï¼Œç‚¹å‡»add key</h4>
<figure data-type="image" tabindex="1"><img src="addkey.png" alt="" loading="lazy"></figure>
<h4 id="3-åœ¨sshæ–‡ä»¶å¤¹ä¸‹é¢æ·»åŠ æ— åç¼€çš„configæ–‡ä»¶">3. åœ¨.sshæ–‡ä»¶å¤¹ä¸‹é¢æ·»åŠ æ— åç¼€çš„configæ–‡ä»¶</h4>
<p>ç¬¬ä¸€è¡Œæ˜¯åŸŸååœ°å€çš„åˆ«å<br>
ç¬¬äºŒè¡Œæ˜¯IP æˆ–è€…åŸŸå<br>
ç¬¬ä¸‰è¡Œæ˜¯ ç”¨æˆ·åå¯ä»¥æ”¹<br>
ç¬¬å››è¡Œæ˜¯ ç§é’¥ä½ç½®</p>
<pre><code>Host gitlab              
Hostname 202.182.104.28
User git
IdentityFile C:\Users\gao\.ssh\id_rsa_lab
</code></pre>
<p>å‚è€ƒ: <a href="https://www.cnblogs.com/fanbi/p/7825746.html">ä¸€å°ç”µè„‘ï¼Œä¸¤ä¸ªåŠå¤šä¸ªgitè´¦å·é…ç½®</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[python loggingç®€å•ä½¿ç”¨]]></title>
        <id>http://stoneskipping.info/post/python-loggingç®€å•ä½¿ç”¨</id>
        <link href="http://stoneskipping.info/post/python-loggingç®€å•ä½¿ç”¨">
        </link>
        <updated>2018-05-20T06:31:39.000Z</updated>
        <summary type="html"><![CDATA[<p>loggingä¸€å…±æœ‰ä¸‰ç§4ç§é…ç½®å½¢å¼</p>
]]></summary>
        <content type="html"><![CDATA[<p>loggingä¸€å…±æœ‰ä¸‰ç§4ç§é…ç½®å½¢å¼</p>
<!-- more -->
<ul>
<li>åŸºç¡€å‹ basicconfig</li>
<li>ä»£ç å‹</li>
<li>å­—å…¸å‹</li>
<li>æ–‡ä»¶iniå‹</li>
</ul>
<p>åªä½¿ç”¨äº†ä»£ç å‹</p>
<pre><code class="language-python">def custom_formatTime(record, datefmt=None):
    return (datetime.datetime.utcnow() + datetime.timedelta(hours=8)).strftime(u&quot;%Y-%m-%d %H:%M:%S&quot;)

# é€šè¿‡ä¸‹é¢çš„æ–¹å¼è¿›è¡Œç®€å•é…ç½®è¾“å‡ºæ–¹å¼ä¸æ—¥å¿—çº§åˆ«
logger = logging.getLogger(&quot;binance_coin&quot;)
# å†™å…¥æ—¥å¿—æ–‡ä»¶
handler_file = logging.handlers\
    .RotatingFileHandler(&quot;logs/debug.log&quot;, maxBytes=1024*1024, backupCount = 50,encoding = &quot;UTF-8&quot;)#FileHandler(&quot;test.log&quot;)
handler_file.setLevel(logging.INFO)
handler_error_file = logging.handlers\
    .RotatingFileHandler(&quot;logs/error.log&quot;, maxBytes=1024*1024, backupCount = 10,encoding = &quot;UTF-8&quot;)#FileHandler(&quot;test.log&quot;)
handler_error_file.setLevel(logging.ERROR)
# æ‰“å°æ—¥å¿—æ–‡ä»¶åˆ°console
handler_console = logging.StreamHandler()
# æ ¼å¼åŒ–å™¨
formatter = logging.Formatter(
    &quot;%(asctime)s %(name)-12s %(levelname)-8s %(message)s&quot;)
formatter.formatTime = custom_formatTime
# æ·»åŠ æ ¼å¼åŒ–åˆ°æ§åˆ¶å™¨
handler_console.setFormatter(formatter)
handler_file.setFormatter(formatter)
handler_error_file.setFormatter(formatter)
# æ·»åŠ å¤„ç†å™¨
logger.addHandler(handler_console)
logger.addHandler(handler_file)
logger.addHandler(handler_error_file)
# logçº§åˆ«
logger.setLevel(logging.INFO)
# è¿›è¡Œè®°å½•
logger.debug('often makes a very good meal of %s', 'visiting tourists')
</code></pre>
<h4 id="å®ç°çš„éœ€æ±‚">å®ç°çš„éœ€æ±‚</h4>
<ol>
<li>æ—¥å¿—åˆ†å‰²ï¼Œä½¿ç”¨RotatingFileHandlerå¤„ç†å™¨è®¾å®šäº†maxBytesï¼Œåœ¨æ—¥å¿—æ–‡ä»¶å¤§å°ä¸º1Mçš„æ—¶å€™å°±ä¼šå°†æ—¥å¿—æ–‡ä»¶é‡å‘½åä¸º<strong>debug.log.1</strong>,ç„¶åæ–°å»ºä¸€ä¸ª<strong>debug.log</strong>,ç¬¬äºŒæ¬¡çš„æ—¶å€™å°†<strong>debug.log.1</strong>-&gt;<strong>debug.log.2</strong>, æ¯æ¬¡éƒ½ä¼šè¿™æ ·ä¾æ¬¡æ›´æ”¹åå­—,ç›´åˆ°æ—¥å¿—æ–‡ä»¶æ•°é‡åˆ°è¾¾backupCountçš„é™åˆ¶,å°†æœ€è€çš„ä¸€ä¸ªåˆ é™¤ä»¥ç»´æŒæœ€å¤š50ä¸ªçš„æ—¥å¿—æ–‡ä»¶ã€‚loggingä¹Ÿå¯ä»¥ä½¿ç”¨æ—¶é—´åˆ†å‰²</li>
<li>æ—¥å¿—æ–‡ä»¶çš„ç¼–ç , éœ€è¦åœ¨å¤„ç†å™¨é‡Œé¢æŒ‡å®š<code>encoding = &quot;UTF-8&quot;</code>æ¥é¿å…å‡ºç°æ—¥å¿—ç¼–ç é”™è¯¯</li>
<li>è‡ªå®šä¹‰æ—¶é—´ï¼Œé‡å†™äº†formatter.formatTimeæ¥è®¾å®šæ‰“å°å‡ºæ¥çš„æ—¶é—´å§‹ç»ˆæ˜¯utc+8</li>
<li>åˆ†çº§åˆ«è¾“å‡ºï¼Œinfoä»¥ä¸Šçš„æ—¥å¿—éƒ½ä¼šç”¨handler_fileè¾“å‡ºåˆ°<strong>debug.log</strong>ï¼Œerrorä»¥ä¸Šçš„æ—¥å¿—éƒ½ä¼šè¾“å‡ºåˆ°<strong>error.log</strong></li>
</ol>
<p>å‚è€ƒé“¾æ¥ <a href="http://pythonguidecn.readthedocs.io/zh/latest/writing/logging.html">æ—¥å¿—ï¼ˆLoggingï¼‰ â€” The Hitchhiker's Guide to Python</a></p>
]]></content>
    </entry>
</feed>